# AFSIM V2.0  TECHNICAL REFERENCE

August 2016

## 1. OVERVIEW

### 1.1 Introduction

AFSIM是一个经政府批准用于构建针对作战分析社群的交战和任务级分析仿真的软件仿真框架。AFSIM应用的主要用途是评估新的和先进的系统概念，以及确定这些系统的使用概念。

该框架提供了模拟参与者能力的方法，并控制参与者随着时间和空间的推移而发生的相互作用。所产生的仿真可以是：

- 构造性/非交互式（用户调用仿真，然后仿真在没有进一步交互的情况下运行），或者交互式（用户或其他仿真控制仿真的某些方面）。
- 非实时（根据平台组件模型的保真度快或慢），或实时（受某个实时时钟的倍数限制）。
- 事件驱动（仿真根据相关事件的处理进行）或时间步进驱动（仿真根据在连续时间步骤中发生的事件进行）。

设计上AFSIM一般情况下可直接“原样”使用，因此框架不仅定义了顶层建模概念，还提供了许多具体的实现。随框架交付的标准模型的包括以下标准示例：

- 运动模型
- 传感器系统
- 武器系统和武器效果
- 通信系统
- 信息处理系统（跟踪器等）
- 决策制定系统（指挥与控制，导弹制导等）
- 天线模式模型
- 大气衰减模型
- 信号传播模型
- 杂波模型
- 电子战效果模型

AFSIM也是可扩展的，方便地加入上述类型的模型，以及完全新的功能。因为AFSIM是一个框架，所以提供了模拟细节和服务，让开发者专注于通过实现框架的抽象接口来添加所需的新功能。此外，AFSIM的基于组件的架构（CBA）提供了将几乎任何新的建模功能整洁、通用地纳入框架的能力。一旦纳入，这些模型就像标准模型一样成为框架的一部分。

AFSIM模拟通常用于评估军事系统在任务环境中的性能。为了成功，该框架必须提供在任务环境中模拟参与者性能的能力。在AFSIM中，单个参与者被称为平台，而在某些模拟中则称为实体。平台代表了诸如飞机、卫星、导弹、船舶、潜艇、地面车辆、结构和生命形态等事物。平台包含诸如通信、传感器和武器系统，以及信息和决策制定系统的组件。这些组件用于收集、处理和传播信息，做出指挥决策，并执行命令。该框架，配合其提供的组件模型，以及可能已经添加的其他组件模型，提供了模拟的平台参与仿真的能力。

本节提供了高级框架模拟、集成和建模（AFSIM）的一般概述。第二节提供了标准AFSIM软件发布的描述，包括标准AFSIM应用程序、AFSIM集成开发环境（IDE）、AFSIM IADS场景，以及用于场景准备和分析的视觉环境（VESPA）。具体算法和详细模型描述包含在本文档的附录中，共同作为AFSIM技术参考指南。然而，本文档并没有提供用户输入、AFSIM脚本语言或IDE的详细描述。这些在AFSIM Wiki中有详细说明，该Wiki作为AFSIM命令的参考手册。同样地，学习使用AFSIM可以通过参加AFSIM分析师课程或通过研究伴随AFSIM发布的许多示例和演示来完成。

### 1.2 平台 Platforms

AFSIM平台由属性、信息、组件和链接组成（见图1）。属性包括平台的名称、类型、隶属关系和指挥官。其他物理属性包括其雷达、光学和红外特征，定义了它在特定方位角被传感器看到的可能性。存储在平台上的信息包括测量值、轨迹、任务和人类感知（perceptions）；这些构成了平台做决策的基础。平台组件包括运动、传感器、通信、武器和处理（用于模拟心理或计算组件）的定义，这些将在以下各节中单独描述。最后，内部和外部链接通过消息提供通信。

<img src="https://cdn.mathpix.com/snip/images/vaOdducg5Qr7N9oc4mmlNz_iU44p8IXNz2HDPnns08w.original.fullsize.png" width=600 />

**Figure 1:** AFSIM Platform Composition

内部链接以灵活的方式将单个内部平台组件连接在一起。外部链接通过通信设备提供平台间的通信。

/// note | WSF_前缀
 WSF: = World Simulation Framework。在 AFSIM 中，WSF_ 前缀用于标识框架内置的标准组件类型（如平台、移动体、传感器、通信、武器、处理器等）。AFSIM 的基线可执行程序也叫 World Simulation Framework Executive（Wsf Exec）。
///

### 1.3 平台组件

（Platform Components）

平台组件提供了平台的物理和心智/计算操作能力的模型。框架提供了许多标准组件模型，其中一些将在以下段落中描述。

与AFSIM一起提供的组件模型通常提供在不同保真度级别。例如，飞机可以用简单的路径移动体进行建模，或者用完整的伪6-DOF（六自由度）空气动力学和控制模型进行建模。另一个例子是通信模型，可以完美地传递消息，或者基于电磁学并受到信号损失的影响。这些选择提供了使用较低保真度模型轻松配置模拟的灵活性，或者提供必要效果的更高保真度模型。

AFSIM还允许插入和使用新的组件模型（传感器、武器等）以及完全新的组件类型。虽然超出了本文档的范围，但描述和教授这个过程是AFSIM软件开发课程的主要主题。

#### 1.3.1 移动体 Movers

移动体是一个可选组件，提供了平台通过时空移动的手段（没有移动体的平台在地理上是固定的）。模拟影响平台的移动，并确保平台的位置在与其他平台或模拟环境进行任何交互之前是最新的。

有许多类型的标准移动体模型，提供了在每个领域中表示平台的能力，从海底到太空。与AFSIM一起提供的一些移动体示例包括以下内容：

/// note | Movers
- `WSF_AIR_MOVER` - 用于空中车辆运动的路线移动体
- `WSF_GROUND_MOVER` - 用于地形跟随的地面车辆的路线移动体
- `WSF_ROAD_MOVER` - 在道路网络上移动的地面移动体，能够沿其遍历最短路径
- `WSF_SURFACE_MOVER` - 用于水面船只的路线移动体
- `WSF_SUBSURFACE_MOVER` - 用于可潜水车辆的路线移动体
- `WSF_NORAD_SPACE_MOVER` - 用于围绕地球轨道的平台的移动体
- `WSF_GUIDED_MOVER` - 能够表示引导滑翔炸弹或单级或多级引导导弹的移动体
- `WSF_TSPI_MOVER` - 根据从文本文件中读取的时间空间位置信息（TSPI）数据更新位置的移动体
- `WSF_FIRES_MOVER` - 用于间接火力（火箭、炮兵、迫击炮）弹药的移动体
- `WSF_P6DOF_MOVER` - 高保真度的伪-6DOF移动体，提供角度和平移运动学。
///






#### 1.3.2 传感器 Sensors

传感器系统用于感知平台周围的环境。有许多类型的标准传感器模型，其中一些包括：

/// note | Sensors
- `WSF_ACOUSTIC_SENSOR `- 基线声学传感器模型
- `WSF_AMBER_SENSOR` - 提供与TMAP AMBER雷达模型的接口
- `WSF_EOIR_SENSOR` - 光电/红外（EOIR）传感器模型
- `WSF_ESM_SENSOR` - 基线被动射频检测传感器
- `WSF_GEOMETRIC_SENSOR` - 完全基于几何的基线传感器
- `WSF_IRST_SENSOR` - 基线红外搜索与追踪传感器
- `WSF_OPTICAL_SENSOR` - 基线光学传感器模型
- `WSF_OTH_RADAR_SENSOR` - 基线超视距背向散射（OTH-B）天波雷达模型
- `WSF_RADAR_SENSOR `- 基线雷达模型
- `WSF_SAR_SENSOR` - 基线合成孔径雷达（SAR）模型
- `WSF_SOSM_SENSOR `- 光谱光学（IR）感测模型（SOSM）的接口
- `WSF_SURFACE_WAVE_RADAR_SENSOR` - 超视距雷达地波传感器模型
///

许多传感器，例如RADAR传感器模型，实现了电磁相互作用的建模，并且可能受到干扰。

#### 1.3.3 通信 Communications

通信系统用于将信息从一个平台传输到另一个平台。除了模型选择，该框架还提供了一组丰富的网络选项，详细说明在下一节中。AFSIM提供三种系统模型：

/// note | Communications
- `WSF_COMM_TRANSCEIVER` - 实现完美或有线通信
- `WSF_RADIO_TRANSCEIVER` - 实现无线电频率通信
- `WSF_JTIDS_TRANSCEIVER` - 实现JTIDS/Link 16通信
///

`WSF_RADIO_TRANSCEIVER `和 `WSF_JTIDS_TRANSCEIVER` 都实现了建模的电磁相互作用，并受到干扰的影响。

#### 1.3.4 武器 Weapons

武器系统用于致命或非致命地攻击另一个平台或平台组件。武器可以利用发射计算机进行开火决策，并采用可配置的武器效果。AFSIM武器可以是显式的也可以是隐式的。显式武器在发射时会创建新的（武器）平台，代表导弹、炸弹等。隐式武器不创建武器平台，用于模拟非动力学武器，如高能激光器和干扰器，以及具有可预测轨迹的动力学武器，如炮兵。

随AFSIM交付的武器组件如下：


/// note | Weapons
- `WSF_EXPLICIT_WEAPON` - 表示在发射时被模拟为一个独立平台的武器。  
- `WSF_IMPLICIT_WEAPON` - 表示不需要独立飞行的武器。
- `WSF_RF_JAMMER` - 是一个无线电频率干扰器，可用于破坏雷达、电子支援措施（ESM）和无线电通信系统。
- `WSF_LASER_WEAPON` - 表示一个具有独立可配置激光流量模型的高能激光（HEL）武器。
- `WSF_CUED_LASER_WEAPON` 是`WSF_LASER_WEAPON`的一个实现，由一个单独的光束指导传感器进行提示。
///

请注意，只有一个显式武器模型。这是因为通过使用各自独特的平台组件配置武器平台类型，可以实现导弹、炸弹等的广泛可能性。例如，导弹可以被指定为一个配置有导引移动体和导引计算机（处理器）的武器平台类型，而正是这个移动体和导引计算机被配置用于模拟导弹的独特特性。

#### 1.3.5 处理器 Processors

处理器用于实现平台的心智或计算处理能力。在标准框架中有许多可用的处理器，最常见的包括：


/// note |  Processors
- `WSF_SCRIPT_PROCESSOR` - 一个通用处理器，用于执行用AFSIM脚本语言编写的脚本，以实现自定义行为和自定义处理。
- `WSF_TASK_PROCESSOR` - 一个可编程的有限状态机，用于对平台已知的轨迹进行命令和控制决策。
- `WSF_RIPR_PROCESSOR` - 一个更高级的可编程处理器，用于进行命令和控制决策。
- `WSF_GUIDANCE_COMPUTER `- 实现导弹的制导计算机。
- `WSF_GROUND_TARGET_FUSE` 和 `WSF_AIR_TARGET_FUSE` - 实现武器平台的引信机制。
- `WSF_IMAGE_PROCESSOR` - 模拟成像传感器产生的“图像”的分析。
- `WSF_MESSAGE_PROCESSOR` - 一个可编程的路由器和消息解释器。
- `WSF_TRACK_PROCESSOR` - 接受来自板载（on-board）和非板载（off-board）来源的轨迹（Track），并将它们馈送给轨迹管理器。还会定期将本地轨迹的更新发送给其他平台。
///

根据其实现，处理器可能会定期被调用，或作为接收消息或时间间隔到期等某些事件的结果而被调用。

#### 1.3.6 其它组件

AFSIM平台还可以使用其他组件（Other Components）类型，例如以下几种：


/// note |  Other Components
- Command Chain - 提供平台的命令和控制报告结构。  
- Fuel - 提供燃料消耗和加燃料能力。
- Intersection Mesh - 提供平台详细几何形状的表示，以便进行光线追踪计算。
- Navigation Errors - 模拟平台计算出的位置。
- Visual Part - 提供一个可用于可视化目的并计算几何形状的组件。
  ///

如果需要一种未随标准AFSIM分发提供的新组件类型，可以使用AFSIM的**基于组件的架构**（CBA，新引入于2.0版本）进行集成。AFSIM CBA提供了一个抽象的平台组件接口，该接口可扩展以轻松添加新的和现有的基础组件类型，以及为现有的传感器、处理器和武器组件添加额外功能的组件“扩展”。使用CBA，不仅可以通用地、简单地将新的和现有的功能集成到平台上，而且使用和理解它们通常也更容易。

### 1.4 平台额外能力

（Additional Platform Capabilities）

#### 1.4.1 发射机和接收机间的电磁相互作用

（Electromagnetic Interactions with Transmitters and Receivers） 

发射器和接收器的表示形式被平台组件（传感器、通信和某些类型的武器）用于模拟电磁（EM）辐射的发射和接收。该框架通过确保发射器和接收器之间的一致的电磁(EM)交互来完成这种模拟。利用这种软件架构，AFSIM自然地允许诸如干扰和无源探测等效果。

#### 1.4.2 天线方向图 

（Antenna Patterns） 

天线方向图被附加到发射器和接收器上。一个简单的天线方向图是一个二维表格，提供天线指向角的方位角和俯仰角作为增益函数。该框架允许使用二维表格或使用几种方向图算法之一来定义方向图。还有几个其他可选的传感器模型，提供额外的方向图模型。也可以定义一个与极化和频率相关的天线方向图。

#### 1.4.3 衰减、传播、光流和杂波模型

（Attenuation, Propagation, Fluence, and Clutter Models ）

衰减（Attenuation）模型可用于限制（衰减）传播的EM信号。在框架中可用的衰减模型选择中，有几个标准的针对雷达的选项，以及一个用于光学衰减的通用模型。

AFSIM中的传播（Propagation）模型旨在模拟雷达波长下的特定效应；具有多径、地波传播和刀刃效应的选项可用。

光流模型（Fluence models）模拟高能激光传播。AFSIM提供了一个核心光流模型，以及到行业标准HELCoMES光流模型的接口。

AFSIM 还提供了采用低仰角杂波模型来模拟由于地形影响带了的雷达后向散射及其由此产生的噪声的能力。
这些模型利用了来自MIT/Lincoln实验室研究的一组完整杂波后向散射系数。

#### 1.4.4  电子战效能

（Electronic Warfare Effects）

与如RF干扰器（例如，`WSF_RF_JAMMER`）等系统相关联的发射器可能定义发射器进行电子攻击接收器的能力，从而实施电子攻击（EA）技术。

同样，与传感器或通信系统（例如，`WSF_RADAR_SENSOR`或`WSF_RADIO_TRANSCEIVER`）相关联的接收器可能定义接收器减轻电子攻击效果的能力，从而实施电子防护（EP）技术。可用的EA和EP技术以及它们的效果在附录D“AFSIM EW架构”中有完整的描述。

#### 1.4.5  通信网络

（Communications Networks）

AFSIM提供了模拟与通讯设备传递消息相关联的网络的能力。多个通讯设备充当网络上的**节点**，网络可以与其他网络具有**网关**相联。消息会从信源**智能地路由**到信宿 (目的地)。可以指定一个链路层协议以获得真实的传输时间。也支持消息排队和过滤（筛选）。

#### 1.4.6  Link-16 Tadil-J

AFSIM配备了通过通信设备发送和接收Link-16 Tadil-J消息的能力。接收到的消息将通过用户定义的AFSIM脚本进行处理。也可以通过分布式模拟接口发送和接收这些消息，以便AFSIM平台可以作为虚拟分布式指挥与控制网络中的节点参与。

#### 1.4.7  Tracking and Filtering

踪迹或轨迹（track）是代表关于其他对象（如平台或发射器）所知信息的基础对象。该信息可能描述对象的物理状态（位置，速度等），或者可能描述其他特征（敌我属性，类型等）。**该对象可能是或不是真实的**，信息通常包含误差。因此，踪迹表示平台对另一个对象的不完全知识。这是大多数决策过程的主要输入，因为它可以代表有缺陷的知识，所以可能会做出错误的决策。

踪迹中的信息量取决于其来源以及可能已应用的滤波或融合过程。传感器可能提供距离和方位，或者只产生距离、方位和高度。它还可以提供隶属关系和类型（例如，IFF）、测量质量等。

从最根本上说，**踪迹代表了传感器测量的产出结果**。必须将多个测量值关联或“相关”在一起以创建和更新踪迹。这个相关过程提供了错误地将测量值与错误对象或根本没有对象组合在一起的机会。在这种情况下，会产生假目标。AFSIM提供了几个用于相关性的选项，让分析师有机会探索或忽略这种效应。踪迹的主要作用是尽可能准确地提供对真实性的估计。滤波的工作是提供这些估计，特别是对运动学数据。为此，AFSIM包括一组标准滤波器，提供位置和速度状态估计。该框架也足够灵活，可以允许集成几乎任何类型的滤波器。

踪迹的另一个非常重要的目标是从测量和跟踪中智能地融合数据，以尽可能完整地生成战场信息。通常，在这个称为融合的过程中，将计算或推断出新数据。AFSIM带有一个标准的**融合引擎**，并且该框架允许根据需要用其他融合算法替换。

#### 1.4.8 任务 Tasks

AFSIM的任务管理服务提供了发送和接收任务分配、执行任务以及提供处理这些分配的状态信息的功能。**任务通常与踪迹相关联**；例如，根据踪迹位置发起传感器跟踪请求，在给定的踪迹位置发射武器等。

#### 1.4.9  行为建模 Behavior Modeling

AFSIM的任务执行是通过AFSIM脚本语言进行的，这是实现平台行为的最常用方法。框架为任务执行提供了两个选项：WSF_TASK_PROCESSOR和WSF_QUANTUM_TASK_PROCESSOR。WSF_TASK_PROCESSOR使用有限状态机，其中踪迹在各个状态之间移动，脚本基于当前状态实现行为（参见图2，其中圆圈代表状态，箭头代表转换规则）。WSF_QUANTUM_TASK_PROCESSOR使用行为树（图3），这是一种人工智能技术，在该技术中，行为作为图或“树”的节点被创建和排列。行为节点可以以有趣和相互关联的方式排列在一起，从而提供了更多的灵活性，以选择和执行行为。人工智能架构和行为树在附录D中有进一步的描述。

<img src="https://cdn.mathpix.com/snip/images/VnmjQIErtJFilzeowrNZHCIAsSaP2x855EAxmlmuMLc.original.fullsize.png" width=400 />

**Figure 2:**  图形表示的任务处理器状态机示例。

<img src="https://cdn.mathpix.com/snip/images/gl4xJr15pSryt4TnPC5Y2dDIwKwWkFbur5cLk8GaoGY.original.fullsize.png" width=600/>

**Figure 3:** An Example RIPR Behavior Tree

### 1.5 仿真服务

#### 1.5.1 脚本语言

AFSIM脚本语言Scripting Language为用户提供了一种机制，允许用户根据模拟中发生的事件执行一组复杂的指令。该语言与C\#和Java相似，对于具有基本编程技能的人应该很熟悉。它是块结构的，并包含熟悉的声明、赋值和流控制语句，允许用户检查和操纵模拟环境。脚本语言的一些用途包括以下内容：

- 实施战术和条令
- 数据采集
- 基于任务选项的对象动态配置
- 仿真控制


#### 1.5.2 地形和可视性管理

(Terrain and Line-of-Sight Management)

地形被框架用于执行诸如确定参与交互的对象是否被地形遮挡、确定空中对象是否撞到地面，或限制地面车辆到地面等动作。支持的地形数据形式包括国家地理空间局（NGA）数字地形高程数据（DTED）和Arc-Info浮点网格格式。

#### 1.5.3 事件日志和标准输出

(Event Logging and Standard Output )

该框架实现了一个“观察者”能力，允许仿真组件在某些事件发生时（例如：打开传感器、传感器探测尝试、发射武器、发送分配任务的消息等）得到通知。这一能力被用于实现事件日志记录，而无需修改代码的所有部分。提供了几种标准输出形式。此外，AFSIM还为用户提供了编写脚本以执行任何所需功能的能力，例如编写自定义输出文件或累积统计数据。

#### 1.5.4 扩展和插件

(Extensions and Plug-Ins )

扩展和插件是框架用于集成新平台组件模型、新的和扩展的平台能力以及新的和扩展的仿真服务的主要机制。插件功能是一种扩展形式，允许人们在不重新编译核心AFSIM代码的情况下添加功能。使用插件允许更容易地分发扩展功能，并且它们提供了选择在给定分析中使用哪些扩展功能的能力。

#### 1.5.5 分布式仿真接口

(Distributed Simulation Interfaces )

观察者能力也用于实现分布式模拟接口。AFSIM提供了三种标准接口：

- DIS（分布式交互模拟）接口，允许一个AFSIM模拟作为DIS演习中的一个应用程序参与。
- HLA（高级架构）接口，允许一个AFSIM模拟作为一个HLA联邦参与HLA演习。
- XIO（外部输入/输出）接口，提供多机能力，在这其中两个或更多的AFSIM模拟可以不受DIS和HLA的限制进行交互。XIO也可用于将AFSIM模拟与图形用户界面（GUI）和其他用户输入设备接口，提供操作员在环的功能。


#### 1.5.6 蒙特卡罗迭代与实验设计

(Monte Carlo Iteration and Design of Experiments )

AFSIM提供了一次执行一组仿真运行的能力，其中每次运行都从一个不同的随机数种子开始，由于生成的随机数集合不同，因此在运行之间引入了可变性。这通常被称为蒙特卡罗迭代。在AFSIM中有许多选项可以引入这种所需的运行之间的可变性，使其能够用于实验设计（DOE, design of experiments）研究。

### 1.6 限制与假设

(Limitations and Assumptions)

任务的范围几乎没有什么限制。平台的数量仅受到可用内存量和人们愿意等待的时间量的限制。任务可能覆盖从水下到太空的整个世界。任务持续时间可以非常长：数月或数年。

框架对平台或其组件在性能方面没有固有的限制。任何平台都可以探测、与其他平台通信、射击或控制任何其他平台。限制来源于要么是模型是如何配置的（用户输入），要么是由于平台组件模型的限制。这样的限制可以通过以下方式克服：

- 改变现有平台组件模型的参数以反映所需的保真度。
- 选择具有所需保真度的不同平台组件模型。
- 获取具有所需保真度的不同平台组件模型。
  
例如，除非另有说明，传感器将尝试检测模拟中的所有其他平台。用户可以假设它可以区分敌友，并阻止对友方平台的检测尝试，从而节省大量的计算时间。另一个例子是，用户可能选择`WSF_GEOMETRIC_SENSOR`以非常简单地模拟雷达系统（例如，如果目标在50英里内，它就可以被看到）。用户假定这是一个可行的假设，但如果被证明是错误的，用户可以选择`WSF_RADAR_SENSOR`以获得更高的保真度。关键是，用户来决定这种类型的主要限制。

为了完成任务，平台必须有一些信息来进行行动。信息的真实性和准确性通常决定任务的成功。假设一个指挥官收到信息，指出目标位于特定位置，并命令一项资产摧毁该目标。如果位置有重大错误，或者目标实际上并不存在（这是一个错误的报告，或者目标已经被摧毁，指挥官还没有得到通知），那么时间和资源就会被浪费在追赶一个不存在的目标上，从而可能阻止了摧毁真正目标的机会。该框架对信息踪迹中信息的可行性没有固有的限制。它可以包含错误，并且不必对应于一个真实的平台。

## 2. AFSIM SOFTWARE DISTRIBUTION

### 2.1 AFSIM Applications

#### 2.1.1 世界仿真框架执行程序 （WSF Exec）

基础的AFSIM仿真应用程序被称为 世界仿真框架执行程序** World Simulation Framework Executive**  （Wsf Exec）。Wsf Exec读取用户定义的输入文件，执行仿真，并输出那些用户定义的数据文件。由于Wsf Exec集成了所有标准的AFSIM功能，因此它用于执行所有与AFSIM版本一起发布的仿真演示和场景，包括AFSIM IADS场景。Wsf Exec也最常用作AFSIM IDE执行信息丰富的图形环境中的模拟场景的模拟引擎。

注意：Wsf Exec很可能会更名为“AFSIM Mission”。

#### 2.1.2 Sensor Plot

Sensor Plot是一个用于评估传感器特性和与用户指定几何形状的交互的AFSIM应用程序。它具有创建生成以下图表的文件的能力：

- 传感器垂直覆盖范围
- 传感器水平覆盖范围
- 传感器球面覆盖范围
- 一组传感器的防御区域
- 天线方向图


#### 2.1.3 Weapon Tools

武器工具是一个AFSIM应用程序，其目的是为了创建用于做出可接受的武器发射决策所需的各种发射计算机，而反复地在广泛不同的参与条件下发射预定义的WSF_EXPLICIT_WEAPON。它目前允许为空对空、空对地和弹道导弹（地对地）创建/生成发射计算机。

### 2.2 AFSIM IDE

AFSIM集成开发环境（IDE）支持分析师在定义和集成AFSIM平台和平台组件方面。AFSIM IDE模仿了为软件开发使用的IDE。在软件IDE中，单一应用程序用于编辑文件、编译、链接和运行软件可执行文件，并查看输出结果或错误信息。同样，AFSIM IDE允许分析师编辑输入文件、执行一个AFSIM应用程序，并可视化输出结果和任何错误信息。该迭代过程允许分析师在定义平台和组件模型以及创建场景时获得即时反馈，如图4所示。

注意：AFSIM IDE很可能会更名为“AFSIM向导”。

<img src="https://cdn.mathpix.com/snip/images/NlBOOobj6fkg4I7WVjIqvqQ5vkUcbgu2obujVQAlgnY.original.fullsize.png"  width=400/>

**Figure 4:** 使用AFSIM IDE的AFSIM构造仿真分析过程

AFSIM集成开发环境（IDE）目前支持输入文件创建的功能包括文件语法高亮、自动完成、上下文敏感的命令文档、多种场景浏览器和脚本调试器。语法高亮使分析师更容易阅读和理解内容。未知的关键字或命令会用红色下划线进行标记以便容易发现。未知关键字或命令的例子包括拼写错误的关键字或使用范围之外的关键字。自动完成功能基于上下文为分析师提供一系列建议。分析师可以选择其中一个建议，命令将自动完成，无需手动输入命令。上下文敏感的命令文档允许分析师调出与命令相关的文档，以说明该命令的范围和用途。其他AFSIM IDE功能也可协助分析师定义平台和组件模型以及场景。

通过IDE内置的演示浏览器，分析师可以查看超过三十个示例场景。这些场景展示了被细分为更小、更集中的部分的AFSIM的广泛能力。这些演示作为创建新场景以及作为添加到现有场景的参考提供了很好的起点。

<img src="https://cdn.mathpix.com/snip/images/ROFQe2c3gRnwbXnN5xph7wyLX7FPdG50bR85lcKnj_E.original.fullsize.png" width=400 />

**Figure 5:** AFSIM 演示浏览器

AFSIM集成开发环境（IDE）可以使用分析师定义的输入文件执行任何基于AFSIM的应用程序。应用程序的任何屏幕输出都会显示在IDE输出窗口中，同时还会显示任何错误信息。

IDE查看仿真结果的当前功能包括使用仿真运行期间创建的AFSIM回放文件从IDE运行VESPA应用程序的能力。

一般的插件功能也是AFSIM IDE的一部分。这支持有限用户集所需功能的开发。这个功能包括应用程序的插件接口，以及管理应用程序内插件的用户界面。

### 2.3 环境可视化软件 VESPA

用于方案准备和分析的环境可视化软件VESPA应用程序能够创建与任何基于AFSIM的应用程序兼容的初始条件文件。此外，VESPA还可用于可视化由任何基于AFSIM的应用程序生成的对象位置的时间历史和其他事件信息。这允许分析师快速理解和分析仿真的输出。由于VESPA是一个“DIS-listener”可视化工具，因此也可用于显示任何发布DIS数据的实时仿真中的实时实体交互。

<img src="https://cdn.mathpix.com/snip/images/JMV2oZK6a1f8BOvBjOyecBAZe1CeED5MyKDKKZIhmUk.original.fullsize.png" width=400 />

**Figure 6:** VESPA GUI

VESPA包括一个图形用户界面（GUI），该界面包括一个带有地理空间地图的绘图区域和一个数据输入区域，如图6所示。

使用VESPA，分析师可以在地理空间地图上的特定纬度和经度位置放置代表对象的图标。然后可以为每个选定的对象分配初始条件。例如，飞机的初始条件可能是其速度、航向和高度。与对象相关联的视觉特性，称为附件，也可以被创建。示例包括路线、距离环和区域。

VESPA可用于使用在AFSIM仿真运行期间生成的AFSIM重播文件来显示对象位置历史和事件。AFSIM重放文件是一个包含AFSIM仿真的DIS输出的二进制文件。此外，还可以为在仿真过程中发生的选定事件生成图表。

### 2.4 综合防空系统（IADS）标准场景

（Standard IADS Scenarios）

AFSIM的保密发行版包括几个基于IADS（综合防空系统）的标准场景。空军任务级模型中的算法和软件已经集成到AFSIM中，包括传感器建模算法、导弹飞行代码以及标准场景中的命令链逻辑。这些场景的场景数据库（SDB）和类型数据库（TDB）文件都已经转换为AFSIM输入格式，并且所有空军任务级模型的更新都会与AFSIM IADS进行性能验证。这包括对这些场景中所有传感器类型的传感器垂直覆盖图（VCD）图表以及所有地对空导弹（SAM）类型的导弹飞行比较。结果是对标准场景的持续验证和确认（V&V）过程。有关AFSIM IADS模型的详细信息可以通过联系AFSIM模型经理来申请获得。

### 2.5 计算设备要求

（Target Machine Requirements）

AFSIM应用程序目前以32位和64位Linux和Windows可执行文件的形式分发。由于它们可以以命令行方式运行，因此除了操作系统，运行机器的配置几乎没有限制。然而，由于IDE和VESPA是图形应用程序，因此还有额外的限制，即运行机器应具有相对现代的图形芯片或显卡。虽然不能保证兼容性，但VESPA和IDE通常能很好地与2005年或以后生产的图形芯片/显卡配合使用。推荐使用4GB以上的显存。

### 2.6 软件分发

AFSIM的分发是通过AFRL/RQQD（航空系统总监，负责人Brian Birkmire）来协调的。必须签署信息递交协议（ITA, Information Transfer Agreement）才能获得非机密或机密的分发版本，而政府承包商必须提供适当的DD254才能获得机密版本的分发。



## Appendix A- AFSIM 通信、传感器和干扰方程。

### A.1 Overview

本文档的目的是描述在AFSIM中对象之间交互(interactions)所用到的方程和算法。这包括：

- 传感器交互
- 通信交互
- 干扰（干扰信号）交互

### A.2 常用射频方程

AFSIM使用一组通用的类来封装涉及射频（RF）交互的组件（实际上，这些类的某些功能也用于非RF交互，但这里不重要）。文档的第一部分将处理信号发射和接收的基础知识。文档的后续部分将处理具体用途（雷达，SAR，ESM，干扰，通信）。

忽略接收信号处理的细节，RF交互分为两种：

- 直接或单向，即从发射天线直接到接收器的发射信号
- 间接或双向：即从一个对象反射的发射信号然后被接收

接收信号功率的计算可以分解为几个不同的步骤：

- 从发射天线发射
- 传播到目标或接收机
- 对于间接或双向交互
- 从目标反射
- 从目标到接收机的传播
- 由接收天线接收

### A.3 直接发射功率的计算

$$
P_x=P_{\text {peak }} \times D C \times \frac{G_x}{L_x} \quad(\mathrm{RF} .1)
$$

表 A-1：发射功率变量

| 符号  | 来源           | 描述                                                         |
| :---- | :------------- | :----------------------------------------------------------- |
| Gx    | 发射天线方向图 | 发射天线在目标对象（接收器或平台）方向上的增益。这包括任何电子波束转向损失（方程 RF.6）。 |
| Lx    | 发射机内部损失 | 发射机在功放和天线之间的内部损失。                           |
| DC    | 发射机占空比   | 用户定义的发射机占空比（默认值：1.0，如果未定义）。          |
| Ppeak | 发射机功率     | 发射器的峰值功率。为单个脉冲的功率。                         |
| Px    | 计算得出       | 发射功率。                                                   |

#### A.3.1 自由空间信号传播

从信号源（s）到目的地（d）的自由空间信号传播是使用以下方程计算的。在单向交互中，'s' 和 'd' 分别是发射机和接收机（方程 RF.2b）。在双向交互中，有两条传播路径。第一条是从发射机到目标（方程 RF.2c），第二条是从目标到接收机（方程 RF.2d）。
$$
\begin{aligned}
D_{s d}=P_s \times \frac{A_{s d}}{4 \pi R_{s d}^2} & \text { General Form } \\
D_{x r}=P_x \times \frac{A_{x r}}{4 \pi R_{x r}^2} & \text { Transmitter - to - receiver } \\
D_{x t}=P_x \times \frac{A_{x t}}{4 \pi R_{x t}^2} & \text { Transmitter - to - target } \\
D_{t r}=P_t \times \frac{A_{t r}}{4 \pi R_{t r}^2} & \text { Target }- \text { to }- \text { receiver }
\end{aligned}
$$
表 A-2：自由空间传播变量

| 符号     | 来源           | 描述                                                         |
| :------- | :------------- | :----------------------------------------------------------- |
| $A_{sd}$ | 发射器衰减模型 | 在从信号源（s）到目的地（d）传播信号时，计算大气衰减效应后仍然保留的信号部分。 |
| Dsd      | 计算得出       | 计算在目的地（d）处来自信号源（s）的的自由空间功率密度。     |
| Ps       | 计算得出       | 信号源（s）发射功率。可为发射功率（方程 RF.1）或目标的反射功率（方程 RF.3）。 |
| Rsd      | 计算得出       | 信号源（s）与目的地（d）之间的斜距。                         |

#### A.3.2 自由空间信号的反射

一个有效反射自由空间信号的目标实际上创建了一个新的“发射源”。源的功率简单地是传入信号的信号密度与反射源有效面积的乘积。反射器可以是一个平台（例如在进行双向雷达交互时）或者可以是地球的表面（在进行杂波计算时）。然后可以通过应用方程 RF.3 将反射功率传播到接收器。
$$
P_t=D_{x t} \times \sigma_t \quad \text { (RF.3) }
$$
表 A-3：自由空间反射信号变量

| 符号 | 来源               | 描述                                             |
| :--- | :----------------- | :----------------------------------------------- |
| Dxt  | 方程 RF.2c         | 从发射机（x）起源的信号在目标（t）处的功率密度。 |
| Pt   | 计算得出           | 由目标反射到达信号产生的功率。                   |
| σt   | 目标平台的雷达特征 | 目标的雷达反射截面积。                           |

#### A.3.3 接收自由空间信号

RF.4a 用于直接、单向（通信、被动 RF 和干扰）。RF.4b 用于双向（雷达，SAR）。
$$
\begin{aligned}
& P_r=D_{x r} \times \frac{\lambda^2}{4 \pi} \times \frac{G_r}{L_r} \times F_{B W} \times F_{P O L} \quad \text { One-way, Transmitter - to - receiver } \quad \text { (RF.4a) } \\
& P_r=D_{t r} \times \frac{\lambda^2}{4 \pi} \times \frac{G_r}{L_r} \times F_{40} \quad \text { Two - way, Target - to - receiver } \quad \text { (RF.4b) }\\
&
\end{aligned}
$$

表 A-4：自由空间接收功率变量

| 符号      | 来源                                    | 描述                                                         |
| :-------- | :-------------------------------------- | :----------------------------------------------------------- |
| $F_{BW}$  | 参见第 2.5 节                           | 接收信号的一部分被接纳，考虑到发射和接收机的频率/带宽之间可能存在的不匹配。注意：这并没有纳入雷达交互，因为假设发射机和接收机是匹配的。 |
| $F_{POL}$ | 发射器极化 接收器极化 极化效应 天线模式 | 接收信号的一部分被接纳，考虑到发射机和接收机极化之间可能存在的不匹配。注意：这并没有纳入雷达交互，因为假设发射机和接收机是匹配的。 |
| $F_{40}$  | 发射机传播模型                          | 模式传播因子。这考虑了直接和间接信号路径之间的构建性/破坏性干涉。注意：这目前仅在雷达交互中实施。 |
| $D_{xr}$  | 方程 RF.2b                              | 来源于发射机的信号在接收机处的功率密度。                     |
| $D_{tr}$  | 方程 RF.2d                              | 来源于目标反射的信号在接收机处的功率密度。                   |
| $\lambda$ | 发射机波长                              | 发射信号的波长。                                             |
| $G_r$     | 接收机天线模式                          | 在目标对象（接收器或平台）方向上接收天线的增益。这包括电子波束转向的任何效应（方程 RF.6）。 |
| $L_r$     | 接收机内部损失                          | 在天线输出和接收机之间的接收机内部损失。                     |
| $P_r$     | 计算得出                                | 接收到的功率。                                               |

#### A.3.4 带宽比

因子 FBW 用于考虑到发射器的频谱可能与接收器的调谐频段不匹配的情况。它表示在接收器的调谐频段内的发射器频谱的比例。

$F_{t l}=F_t-\frac{1}{2} B_t \quad$ 发射机频谱的低端频率
$F_{t u}=F_t+\frac{1}{2} B_t \quad$ 发射机谱的高端频率
$F_{r l}=F_r-\frac{1}{2} B_r \quad$ 接收机的低端调谐频率
$F_{r u}=F_r+\frac{1}{2} B_r \quad$ 接收机的高端调谐频率

表 A-5：带宽比变量

| 符号 | 来源       | 描述                                 |
| :--- | :--------- | :----------------------------------- |
| $Br$ | 接收机带宽 | 接收机的带宽。                       |
| $Bt$ | 发射机带宽 | 发射机的带宽。                       |
| $Fr$ | 接收机频率 | 接收机可以接收的频率范围的中心频率。 |
| $Ft$ | 发射机频率 | 发射机频谱的中心频率。               |

FBW 的结果值取决于发射器和接收器的高低频率之间的关系。
$$
\begin{aligned}
F_{B W}&=0  \quad\quad\quad \text{ if }\quad F_{x u} \leq F_{r l} \\
F_{B W}& =0 \quad\quad\quad \text{ if }\quad F_{x l} \geq F_{r u} \\
F_{B W}& =\min \left(\frac{\min \left(F_{x u}, F_{r u}\right)-\max \left(F_{x l}, F_{r l}\right)}{F_{x u}-F_{x l}}, 1.0\right) \quad \text{(RF.5)}
\end{aligned}
$$


#### A.3.5 接收机噪声功率

以下定义适用于接收机噪声功率的计算：

表 A-6：接收功率变量

| 符号  | 来源                               | 描述                                                         |
| :---- | :--------------------------------- | :----------------------------------------------------------- |
| k     | 内部常数                           | 玻尔兹曼常数（1.3806505E-23 J/deg-K）。                      |
| B     | 接收机带宽 -- 或 -- 发射机脉冲宽度 | 接收机带宽。如果未指定带宽，并且发射机是脉冲的，则带宽将计算为（1/脉冲宽度）（即：假定为匹配滤波器）。 |
| N     | 计算得出                           | 噪声功率。                                                   |
| NF    | 接收器噪声系数                     | 接收机噪声系数（默认为1.0）。                                |
| $T_0$ | 内部常数                           | 标准温度（290K）。                                           |
| $T_S$ | 计算得出                           | 系统噪声温度。                                               |

噪声功率将通过以下过程进行计算。将使用第一步中满足使用条件的值：

1. 如果指定了 `noise_power`，则使用定义的值。

2. 如果无法确定带宽，则使用值为 −160dBW。

3. 如果指定了 `noise_figure`，并且省略了 `antenna_ohmic_loss` 和 `receive_line_loss`，则计算噪声功率为：
$$
N=k \times T_0 \times B \times N F \quad\text { ( RF.6a )}
$$

4. 使用 "Radar Range Performance"，Lamont V. Blake，1986，Artech House, Inc.，第4章中定义的算法计算噪声功率。

天线的噪声温度（ $T_{a n t} = \text{sky temperature due to the antenna pointing angle}$）：
$$
T_a = T_0 + (0.876 \times T_{ant}-254.0) / \text{antenna-ohmic-loss} \quad\quad \text { ( RF.6b ) }
$$
接收机线路损失产生的噪声温度贡献：
$$
T_l = T_0 \times(\text { receive-line-loss }-1.0) \quad\text { ( RF.6c )}
$$
接收机产生的噪声温度贡献：
$$
T_r = T_0 \times(\text { noise-figure }-1.0) \quad\text { ( RF.6d )}
$$
总系统温度：
$$
T_s= T_a + T_l+\left(\text { receive-line-loss } \times T_r\right) \quad\text { ( RF.6e )}
$$
噪声功率：
$$
N=k \times T_s \times B \quad \text { (RF.6f) }
$$


#### A.3.6 天线增益方向图

每个发射机和接收机都有与之关联的天线增益方向图。天线模式是使用全局`antenna_pattern`命令创建的。通过在发射机和接收机块内使用`antenna pattern`命令，可以将天线模式附加到发射机或接收机上。如果没有为发射机或接收机选择天线模式，将假设均匀增益为1.0。

增益方向图是与方向图原点（通常是准直轴或指向角）相对的方位和高程的函数。对于给定的交互，将计算与方向图原点相对的感兴趣点的方位和高程。

天线增益方向图可以用多种方式表示：

- 提供方位和高程作为函数的矩形表格。
- 一个表格。
- 均匀（常数）方向图。
- 圆形 sin⁡(x)/x 方向图。
- 矩形 sin⁡(x)/x 方向图。
- 余割方向图。
- GENAP方向图（GENAP是由政府TRAMS模型中找到的广义天线方向图程序提供的功能的一个子集）。

表格的集合可以用于形成极化和频率的复合方向图。

电子扫描波束的增益可以选择性地修改，以包括将波束指向阵列法线偏离的角度的效应。通过在发射机或接收机中使用`electronic_beam_steering`命令来启用此功能。将使用以下等式：


$$
G=G_0 \times \cos ^n(\theta) \quad \text { (RF.7) }
$$

表 A-7：天线增益变量

| 符号 | 来源                                   | 描述                                                         |
| :--- | :------------------------------------- | :----------------------------------------------------------- |
| G0   | antenna_pattern                        | 当观察感兴趣的点时，天线未经修改的增益。                     |
| G    | Computed                               | 经过修改以包括电子波束扫描效应的增益。                       |
| θ    | Computed                               | 天线面的法线与指向感兴趣点的矢量之间的角度。                 |
| N    | electronic_beam_steering_loss exponent | 一个可选的指数，用以反映当波束从天线面的法线移开时，增益的降低程度。 |



#### A.3.7 Atmospheric Attenuation 大气衰减

通过在发射机模块内部使用 `atmospheric_attenuation` 命令，可以启用大气衰减的计算。

目前有两种可用的模型。这些模型来自美国空军的模型，目前仅适用于地面系统（这些表假设发射机位于地面上）。
- 由L.V. Blake编写，海军研究实验室的大气吸收模型。这基于一组42条衰减曲线，适用于频率在100MHz到10GHz和高度角在0到10度之间。这些曲线在超过300海里之后是平的。这些表格发表在“雷达系统分析Radar Systems Analysis”，第15.1节，David K. Barton，Artech Publishing。

- 一组预计算的表格，适用于频率范围在100MHz到18GHz和27GHz到40GHz之间。低于100MHz的频率将假设为100MHz。在18GHz和27GHz以及超过40GHz之间的频率将使用非常计算密集的方法来确定衰减，应避免使用。

还有一个基于国际电信联盟（ITU）推荐ITU-R P.676的模型正在开发中。该实现将适用于空中和地面平台，并支持更广泛的频率范围。

#### A.3.8 Propagation Algonithms 大气传播算法

通过在发射机块内部使用 `propagation_model` 命令，可以启用传播效应（除大气衰减外）的计算。

目前支持一个模型：

- fast_multipath - 实现了定义在 'Radar Range Performance Analysis', Lamont V. Blake, 1986, Artech House, Inc. 中的方法。它计算了由于信号在圆形、粗糙的地球表面上的镜面反射导致的有益或破坏性干涉的效应。可以提供两个因素来定义反射点处表面的性质。
  
- ground_wave_propagation - 国际电信联盟、无线电通信部门、研究组3（无线电波传播）提供的GRWAVE FORTRAN代码的C++移植版。
  
- alarm - 高级低空雷达模型（ALARM）中的球形地球刀片衍射（SEKE）传播代码，已移植到C++。

#### A.3.9 Clutter Algorithms 杂波算法

通过在接收器块中使用 `clutter_model` 命令，可以启用杂波的使用。基础AFSIM中的杂波选项如下：

- surface_clutter - 这一模型利用雷达特性、俯角和作为地形和地表覆盖函数的后向散射系数查找，但不考虑地形。
- alarm - 类似于surface_clutter，但考虑到地形，这一模型是从高级低空雷达模型（ALARM）移植到C++的。
- surface_clutter_table - 在一个表中表示杂波，该表包含作为目标高度和目标范围函数的数据。此外，如果该表是站点特定的，它还将包含作为目标方位函数的数据。该表可以直接提供，或者可以使用其他模型之一从传感器图中生成。在后一种情况下，使用该表比直接使用其他模型提供了速度优化。surface_clutter和alarm模型都是低角度杂波模型，即它们计算的杂波信号值仅对小的（正和负）俯角有效。由于这一限制，它们通常仅用于地面雷达。两种模型都从相同的杂波后向散射系数集中提取数据，包括来自MIT/林肯实验室参考文献 "Low Angle Radar Clutter," 由J. Barrie Billingsley编写的全部数据集。

### A.4 RadarSensor(WSF_RADAR_SENSOR)

AFSIM雷达模型有效地计算单个脉冲（或连续波形）的功率，然后计算多个脉冲的综合效果。

#### A.4.1 Calculation of Received Power 计算接收功率

应用方程 RF.1 到 RF.4，以下用于计算从单个脉冲（或连续波形）接收到的功率。注意，这不包括干扰。干扰在一个单独的步骤中处理。
$$
\begin{aligned}
P_{r} & =D_{t r} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{40} & & \text { From RF.4b } \\
& =P_{t} \times \frac{A_{t r}}{4 \pi R_{t r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{40} & & \text { From RF.2d } \\
& =D_{x t} \times \sigma_{t} \times \frac{A_{t r}}{4 \pi R_{t r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{40} & & \text { From RF.3b } \\
& =P_{x} \times \frac{A_{x t}}{4 \pi R_{x t}^{2}} \times \sigma_{t} \times \frac{A_{t r}}{4 \pi R_{t r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{40} & & \text { From RF.2c } \\
& =P_{p e a k} \times D C \times \frac{G_{x}}{L_{x}} \times \frac{A_{x t}}{4 \pi R_{x t}^{2}} \times \sigma_{t} \times \frac{A_{t r}}{4 \pi R_{t r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{40} & & \text { From RF.1 (Radar.1)}
\end{aligned}
$$



#### A.4.2 Signal Processing and Detectionv 信号处理与检测

处理后的信号计算如下：
$$
S=P_{r} \times P C R \times G_{I} \times A F \quad \text { (Radar.2) }
$$

表 A-8：处理后的功率变量

| 符号           | 来源                                | 描述                                                         |
| :------------- | :---------------------------------- | :----------------------------------------------------------- |
| AF             | adjustment_factor                   | 一个用于考虑模型未提供的其他常数效应的通用调整因子。         |
| $\mathrm{G_i}$ | integration_gain                    | 由于多个脉冲积累而得到的增益。注意：如果指定了Swerling情况，这将在内部计算。 |
| PCR            | transmitter pulse_compression_ratio | 脉冲压缩比。                                                 |
| $\mathrm{P_r}$ | Equation Radar.1                    | 接收到的功率。                                               |
| $\mathrm{S}$   | Computed                            | 处理后的功率。                                               |

> Swerling 是一种用于描述雷达目标回波功率随时间变化的模型。这些模型通常用于模拟不同类型的雷达目标（如飞机、船只或地面车辆）以及环境因素（如天气）对雷达检测性能的影响。Swerling 模型有几种不同的变体（例如，Swerling I、II、III 和 IV），每种变体都描述了不同类型的目标和/或情境。



信噪比计算如下：
$$
S N=\frac{S}{N+C+J} \quad(\text { Radar.3) }
$$



表 A-9. 信号与噪声变量

| 符号 | 来源           | 描述                                                         |
| :--- | :------------- | :----------------------------------------------------------- |
| C    | 接收机杂波模型 | 杂波功率。                                                   |
| J    | 方程 Jam.1     | 进行干扰的功率。这是在检测交互时，雷达接收机上的入射功率之和。 |
| N    | 方程 RF.6      | 接收机噪声功率。                                             |
| S    | 方程 Radar.2   | 处理后的功率。                                               |
| SN   | 计算得出       | 信噪比（或干扰比）。                                         |

目标的检测是由两种机制中的一种来确定的。通过指定一个检测阈值，可以使用一个简单的二元检测器。如果信噪比超过这个阈值，则声明成功检测。

也可以使用 Marcum-Swerling 检测器，它会根据给定的信噪比产生一个检测概率。如果计算出的检测概率超过所需的检测概率，则声明成功检测。通过使用 swerling_case、number_of_pulses_integrated、probability_of_false_alarm 和 detector_law 命令来选择这种检测器。

### A.5 Passive RF Sensor(WSF_ESM_SENSOR)

被动 RF 计算（ESM，RWR）使用单向方程。

下标 ' r ' 的值用于被动 RF 接收器，而下标 ' x ' 的值用于传感器、干扰器或通信发射机。扩展方程如下：
$$
\begin{aligned}
P_{r} & =D_{x r} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.4a } \\
& =P_{x} \times \frac{A_{x r}}{4 \pi R_{x r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.2b } \\
& =P_{p e a k} \times D C \times \frac{G_{x}}{L_{x}} \times \frac{A_{x r}}{4 \pi R_{x r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.1 （ESM.1）}
\end{aligned}
$$

信噪比计算如下：
$$
S N=\frac{P_{r}}{N} \quad(\mathrm{ESM} .2)
$$

表 A-10. 被动接收机噪声变量

| 符号           | 来源       | 描述                 |
| :------------- | :--------- | :------------------- |
| $\mathrm{N}$   | 方程 RF.6  | 接收器的噪声功率。   |
| $\mathrm{P_r}$ | 方程 ESM.1 | 处理过的功率。       |
| SN             | 计算得出   | 信噪比（或干扰比）。 |

如果 $S N$ 超过以下定义的阈值，则会宣布成功检测：

- 如果传输的信号是脉冲信号，阈值由 `pulsed_detection_threshold` 的值确定。
- 如果传输的信号是非脉冲信号，阈值由 `continuous_detection_threshold` 的值确定。
- 如果上述两个阈值都没有指定，阈值由 `detection_threshold` 的值确定。


### A.6 SAR Sensor (WSF_SAR_SENSOR)

SAR（合成孔径雷达）的计算是雷达计算的扩展。

#### A.6.1 Required Collection Time

用于计算收集所需分辨率图像的时间所使用的方程是：
$$
T_{O T}=\frac{K R_{s} \lambda}{2 d_{A} V_{G}|\sin (\alpha)| \cos (\delta)}\quad\quad\text{(SAR.1)}
$$

表 A-11. SAR 图像采集时间变量

| 符号                      | 来源                      | 描述                                               |
| :------------------------ | :------------------------ | :------------------------------------------------- |
| $\mathrm{d}_{\mathrm{A}}$ | 计算得出                  | 所需的方位分辨率。                                 |
| $\mathrm{K}$              | doppler_overcollect_ratio | 过采集比率（默认值 1.0）。                         |
| $\mathrm{R}_{\mathrm{S}}$ | 计算得出                  | 从传感器到图像中心的斜距。                         |
| $\mathrm{V}_{\mathrm{G}}$ | 计算得出                  | 感测平台的地速。                                   |
| $\lambda$                 | 发射机频率 -或- 波长      | 传输信号的频率。                                   |
| $\alpha$                  | 计算得出                  | 感测平台地面轨迹与指向图像中心的矢量之间的方位角。 |
| $\delta$                  | 计算得出                  | 地面之间的方位角。                                 |

### A.7 RF Jammer (WSF_RF_JAMMER)

干扰计算使用单程方程，其中发射机是干扰机，接收机是雷达或通信接收机。在进行雷达检测或尝试通信时进行干扰计算。AFSIM 将汇总所有可能影响输出的干扰机的功率（即，如果存在会影响接收机的带内功率）。

下标 ' r ' 的值是用于传感器或通信接收器的，而下标 ' x ' 的值是用于干扰发射机的。扩展方程如下：
$$
\begin{aligned}
P_{r} & =D_{x r} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.4a } \\
& =P_{x} \times \frac{A_{x r}}{4 \pi R_{x r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.2b } \\
& =P_{p e a k} \times D C \times \frac{G_{x}}{L_{x}} \times \frac{A_{x r}}{4 \pi R_{x r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.1 (Jam.1)}
\end{aligned}
$$



### A.8 Communications (WSF_RADIO_TRANSCEIVER)

通信计算使用单程方程。

下标 '  r  ' 的值是用于通信接收机的，而下标 ' x ' 的值是用于通信发射机的。扩展方程如下：
$$
\begin{aligned}
P_{r} & =D_{x r} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.4a } \\
& =P_{x} \times \frac{A_{x r}}{4 \pi R_{x r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.2b } \\
& =P_{\text {peak }} \times D C \times \frac{G_{x}}{L_{x}} \times \frac{A_{x r}}{4 \pi R_{x r}^{2}} \times \frac{\lambda^{2}}{4 \pi} \times \frac{G_{r}}{L_{r}} \times F_{B W} \times F_{P O L} & & \text { From RF.1 (Comm.1)}
\end{aligned}
$$



信噪比是按照以下方式计算的：
$$
S N=\frac{P_{r}}{N+J} \quad(\text { Comm.2) }
$$

表A-12：通信信号和噪声变量

| 符号                      | 来源        | 描述                                                     |
| :------------------------ | :---------- | :------------------------------------------------------- |
| $\mathrm{J}$              | 方程 Jam.1  | 事故干扰功率。这是在交互发生时接收器上接收到的功率之和。 |
| $\mathrm{N}$              | 方程 RF.6   | 接收器噪声功率。                                         |
| $\mathrm{P}_{\mathrm{r}}$ | 方程 Comm.1 | 已处理的功率。                                           |
| $\mathrm{SN}$             | 计算出的    | 信噪比（或干扰比）。                                     |

如果 $S N$ 超过接收器的检测阈值，通信尝试将被声明为成功。

### A.9 IRST Sensor(WSF_IRST_SENSOR)

#### A.9.1 Computing the target irradiance

确定背景辐亮度。这包括一种相对简单的能力，用于包括仰望天空或俯视地面的效果。

计算对比度辐射强度；
$$
I_{c}=I_{s}-L_{b k g} \times A_{p r o j}
$$

表 A-13：IRST 对比度辐射强度变量

| 符号                         | 来源         | 描述                               |
| :--------------------------- | :----------- | :--------------------------------- |
| $\mathrm{I}_{\mathrm{s}}$    | 平台红外特征 | 目标的源辐射强度（红外辐射强度）。 |
| $\mathrm{L}_{bkg}$           |              | 背景辐射强度。                     |
| $\mathrm{A}_{\text {proj }}$ | 平台光学特征 | 传感器观察到的目标的投影面积。     |
| $\mathrm{I}_{\mathrm{c}}$    | 计算得出     | 目标的对比度辐射强度。             |

计算大气透过率，$t$（沿路径传播后剩余的信号的部分）：

计算有效目标辐照度，$E_{\text {eff }}$（有时称为 CEI）
$$
E_{\text {eff }}=\frac{t \times I_{c}}{R^{2}}
$$

#### A.9.2 Adjusting for installation effects 考虑安装效应

传感器通常安装在观察窗口后面，这将会遮蔽视场中的区域或以其他方式减少信号。这种遮蔽或信号减少统称为“安装效应”，并通过在接收器模块中使用 antenna_pattern 命令来考虑。虽然红外传感器中没有“天线”，但为了方便起见，它被当作这样对待。该命令引用一个天线增益方向图，其中的增益（或更可能是损失）代表一个因子，该因子用于修改有效目标辐照度来体现安装效应，即：
$$
E_{\text {eff }}^{\prime}=E_{\text {eff }} \times G \quad\quad\text{(IRST.1)}
$$

其中，G 是兴趣方向上的“天线增益”。在窗口之外的区域将增益设置为非常小的值，实际上使得该区域的目标变得无法检测。

#### A.9.3 Computing the probability of detection 计算探测概率

探测概率使用以下方程进行计算：
$$
\begin{aligned}
S N & =\frac{E_{\text {eff }}^{\prime}}{N E I} \\
\beta & =S N-S_{\text {thresh }} \\
P_{d} & =1-Q(\beta)
\end{aligned}
$$

表 A-14：红外搜索与跟踪（IRST）检测概率变量

| 符号                           | 来源                        | 描述                                                         |
| :----------------------------- | :-------------------------- | :----------------------------------------------------------- |
| E' eff                         | 方程 IRST.1                 | 有效目标辐照度。                                             |
| NEI                            | noise_equivalent_irradiance | 传感器噪声的等效辐照度。                                     |
| $\mathrm{P}_{\mathrm{d}}$      | 计算得出                    | 检测概率。                                                   |
| $\mathrm{Q}(\beta)$            |                             | 高斯概率函数（参见 'Handbook of Mathematic Functions', Abramowitz 和 Stegun, 方程 26.2.5） |
| $\mathrm{SN}$                  | 计算得出                    | 信噪比。                                                     |
| $\mathrm{S}_{\text {thresh }}$ | detection_threshold         | 检测阈值。                                                   |





## Appendix B- AFSIM合成孔径雷达方程

### B.1 The Radar Range Equation 雷达距离方程

以下方程是 AFSIM 用于计算从一个单一脉冲的射频信号接收到的功率的标准方程。该方程没有假设发射器和接收器是位于同一位置，也没有考虑任何额外的信号处理技术，如脉冲压缩或多个脉冲的累积：
$$
P_{r}=P_{\text {peak }}(D C)\left(\frac{G_{x}}{L_{x}}\right)\left(\frac{A_{x t}}{4 \pi R_{x t}^{2}}\right) \sigma\left(\frac{A_{t r}}{4 \pi R_{t r}^{2}}\right)\left(\frac{\lambda^{2}}{4 \pi}\right)\left(\frac{G_{r}}{L_{r}}\right) F_{40} F_{B W} F_{P O L}
$$

表B-1：雷达距离方程变量

|           变量           | AFSIM来源             | 描述                                                         |
| :----------------------: | --------------------- | ------------------------------------------------------------ |
|   $ P_{\text{peak}} $    | 发射机功率            | 峰值发射功率                                                 |
| $ \overline{\text{DC}} $ | 发射机占空比          | 用户定义的发射机占空比（默认值：1.0，如果未定义）            |
|       $ \lambda $        | 发射机频率或波长      | 辐射信号的波长                                               |
|       $ G_x, G_r $       | 发射机/接收机天线模式 | 发射机和接收机天线的增益                                     |
|       $ L_x, L_r $       | 发射机/接收机内部损耗 | 发射机和接收机内部的损耗                                     |
|    $ A_{xt}, A_{tr} $    | 发射机衰减模型        | 由衰减模式计算的单向大气衰减因子（0..1）                     |
|    $ R_{xt}, R_{tr} $    | 计算得出              | 发射机到目标和目标到接收机的距离                             |
|        $ \sigma $        |                       | 目标的雷达横截面积（可能是目标或“分辨单元”）                 |
|        $ F_{40} $        | 发射机传播模型        | 考虑直接和间接反射之间的有建设性和破坏性干涉的传播模式因子   |
|  $ \overline{F_{BW}} $   |                       | 考虑发射信号带宽和接收机带宽之间不匹配的因子。这主要用于雷达发射机和被动射频接收机，或者干扰器和雷达接收机之间的交互。它不用于捕获系统中非理想匹配滤波器的效应。 |
|  $ \overline{F_{pol}} $  | 发射机/接收机极化     | 考虑发射信号和接收天线之间的极化不匹配的因子                 |

对于合成孔径雷达（SAR），发射机和接收机是共位的，所以 $ R = R_{xt} = R_{tr} $ 和 $ A = A_{xt} = A_{tr} $。另外，将假设发射和接收天线的增益是相同的，即 $ G = G_t = G_r $。还会做以下假设：

- 没有间接信号干扰主信号。因此 $ F_{40} = 1 $。
- 接收机的带宽已经被设定为能捕获发射信号的全部带宽。因此，$ F_{BW} = 1 $。
- 接收到的信号的极化与发射信号的极化相同。因此，$ F_{POL} = 1 $。
- 如果我们还定义总大气衰减损失为：

$$
L_{a t m}=\frac{1}{A_{x t} A_{t r}}=\frac{1}{A^{2}}
$$

在上述假设的基础上，我们得到了一个熟悉的方程，用于计算来自单个脉冲的接收功率，其中发射机和接收机是共位的：
$$
P_{r}=P_{\text {peak }} \frac{G^{2} \lambda^{2} \sigma}{(4 \pi)^{3} R^{4} L_{x} L_{r} L_{a t m}}
$$

这与参考文献1中的方程（1）是相同的，需要注意的是：
$$
L_{\text {radar }}=L_{x} L_{r}
$$

以及方程（8）已用于替换 $A_{e}$：
$$
A_{e}=\frac{G_{A} \lambda^{2}}{4 \pi}
$$



还需注意，参考文献1进一步将有效孔径表示为实际孔径面积与"孔径效率"的乘积。在这里我们不会执行这一步，假设任何孔径效率都已在AFSIM的antenna_pattern中表示。

接收到的信号必须与系统内存在的噪声竞争。AFSIM 使用以下方式计算噪声功率：

Table B-2: 接收机噪声变量

| 符号  | AFSIM来源      | 描述                                                         |
| :---: | :------------- | :----------------------------------------------------------- |
|  $k$  | 内部常数       | Boltzmann常数（1.3806505E-23 J/deg-K）                       |
| $B_N$ | 接收器带宽     | 接收器的带宽。如果带宽没有指定，同时如果指定了发射机脉冲宽度，带宽将计算为 $1 / \text{pulse\_width}$（即：将假定为匹配滤波器） |
| $F_N$ | 接收器噪声系数 | 接收器噪声系数（默认值1.0）                                  |
|  $N$  | 计算得出       | 噪声功率                                                     |
| $T_0$ | 内部常数       | 标准温度（290 deg-K）                                        |

接收器在天线端口的噪声是这样计算的：
$$
N=k T_{0} B_{N} F_{N}
$$

（注：参考文献2的第2.6节描述了计算噪声功率的其他形式，但这些主要用于地面系统。）

然后，在天线端口处单脉冲的信噪比是：

然后，在天线端口处单个脉冲的信噪比是：
$$
S N R_{\text {ant }}=\frac{P_{r}}{N}=P_{\text {peak }} \frac{G^{2} \lambda^{2} \sigma}{(4 \pi)^{3} R^{4} L_{x} L_{r} L_{a t m}} \frac{1}{k T_{0} B_{N} F_{N}}
$$

（这与参考文献1中的方程（5）相同，已考虑到上面提到的替代。）

SAR 使用两种信号处理技术以提高图像中的有效信噪比。

- $G_{a}=$ SNR 由于方位处理（相干脉冲累积）所带来的增益
- $G_{r}=\mathrm{SNR}$ 由于距离处理（脉冲压缩）所带来的增益

这将导致图像内目标的信噪比为：
$$
S N R_{\text {image }}=S N R_{\text {ant }} G_{a} G_{r}=\frac{P_{r}}{N}=P_{\text {peak }} \frac{G^{2} \lambda^{2} \sigma}{(4 \pi)^{3} R^{4} L_{x} L_{r} L_{\text {atm }}} \frac{1}{k T_{0} B_{N} F_{N}} G_{a} G_{r}
$$

（这与参考文献1中的方程（11）相同，以上面提到的替代为准。）

### B.2 方位处理增益（相干脉冲累积）

SAR图像的创建涉及在适合生成所需质量图像的时间段内相干地收集大量脉冲。

Table B-3: SAR Dwell Time Variables

| 变量               | AFSIM来源          | 描述                                                         |
| ------------------ | ------------------ | ------------------------------------------------------------ |
| $f_p$              | 发射脉冲重复频率   | 脉冲重复频率。                                               |
| $K_a$              | 多普勒滤波增宽因子 |                                                              |
| $K_d$              | 多普勒折叠裕度因子 |                                                              |
| $t_D$              | 驻留时间或计算     | 驻留时间，或图像收集时间。                                   |
| $\delta_a$         | 分辨率或计算       | 期望的方位分辨率。                                           |
| $V$                |                    | 车辆速度矢量。                                               |
| $\theta_{sq}$      | 计算               | “斜视角”，定义为速度矢量与图像区域中心的视线矢量之间的角度。注意：在某些文件中，这将被测量为舷角，导致sin()和cos()的使用被颠倒。 |
| $n_{\text{image}}$ | 计算               | 形成图像时收集的脉冲总数。                                   |

> "SAR Dwell Time" 指的是合成孔径雷达（Synthetic Aperture Radar，SAR）在一个特定目标区域或像素上的持续观测时间。在这个时间内，雷达的天线和传感器会持续地收集关于该区域的数据，以便生成更准确和高分辨率的雷达图像。“Dwell Time” 是一个关键参数，因为它影响着雷达图像的质量和分辨率。更长的 Dwell Time 通常会产生更高质量的图像，但这也会增加数据处理的复杂性和时间。

参考文献3中的方程(5)用于根据期望的横向/方位分辨率计算驻留时间：
$$
t_{D}=\frac{\lambda K_{a} R}{2 V \delta_{a} \sin \theta_{s q}}
$$

请注意，AFSIM允许用户指定期望的分辨率或驻留时间。在后一种情况下，AFSIM将使用上述方程来解出给定驻留时间的可实现分辨率。方位增益是收集的总脉冲数量，即收集时间乘以脉冲重复频率：
$$
G_{a}=n_{\text {image }}=t_{D} f_{p}=\frac{\lambda K_{a} R f_{p}}{2 V \delta_{a} \sin \theta_{s q}}
$$

### B.3 Range Processing Gain (Pulse Compression) 距离处理增益（脉冲压缩）

表格 B-4：距离处理增益变量

|            变量             | AFSIM来源          | 描述           |
| :-------------------------: | :----------------- | :------------- |
|         $\tau_{u}$          | 发射器脉冲宽度     | 未压缩脉冲宽度 |
| $\frac{\tau_{u}}{\tau_{c}}$ | 发射器脉冲压缩比率 | 脉冲压缩比率   |

脉冲压缩带来的距离处理增益为：
$$
G_{r}=\frac{\tau_{u}}{\tau_{c}}
$$

### B.4 信噪比方程的不同形式

将$G_{a}$和$G_{r}$的结果代入$S N R_{\text {image }}$的方程中：
$$
\begin{aligned}
& S N R_{\text {image }}=P_{\text {peak }} \frac{G^{2} \lambda^{2} \sigma}{(4 \pi)^{3} R^{4} L_{x} L_{r} L_{a t m}} \frac{1}{k T_{0} B_{N} F_{N}} G_{a} G_{r} \\
& S N R_{\text {image }}=P_{\text {peak }} \frac{G^{2} \lambda^{2} \sigma}{(4 \pi)^{3} R^{4} L_{x} L_{r} L_{a t m}} \frac{1}{k T_{0} B_{N} F_{N}} \frac{\lambda K_{a} R f_{p}}{2 V \delta_{a} \sin \theta_{s q}} \frac{\tau_{u}}{\tau_{c}}
\end{aligned}
$$

这是AFSIM用来计算具有雷达散射截面$\sigma$的物体返回的形式。这可以是目标或分辨率单元。

文献中常见的还有其他形式的方程。本节的其余部分将展示上述方程是如何等效的。

在匹配滤波器的情况下：


$$
B_{N}=\frac{1}{\tau_{c}}
$$
代入：
$$
\begin{gathered}
S N R_{\text {image }}=P_{\text {peak }} \frac{G^{2} \lambda^{3} \sigma}{(4 \pi)^{3} R^{3} L_{x} L_{r} L_{a t m}} \frac{\tau_{c}}{k T_{0} B_{N} F_{N}} \frac{K_{a} f_{p}}{2 V \delta_{a} \sin \theta_{s q}} \frac{\tau_{u}}{\tau_{c}} \\
S N R_{\text {image }}=P_{\text {peak }} \tau_{u} f_{p} \frac{G^{2} \lambda^{3} \sigma}{(4 \pi)^{3} R^{3} L_{x} L_{r} L_{a t m}} \frac{1}{k T_{0} F_{N}} \frac{K_{a}}{2 V \delta_{a} \sin \theta_{s q}} \\
S N R_{\text {image }}=P_{\text {avg }} \frac{G^{2} \lambda^{3} \sigma}{(4 \pi)^{3} R^{3} L_{x} L_{r} L_{a t m}} \frac{1}{k T_{0} F_{N}} \frac{K_{a}}{2 V \delta_{a} \sin \theta_{s q}}
\end{gathered}
$$

其中平均功率定义为：
$$
P_{\text {avg }}=P_{\text {peak }} \tau_{u} f_{p}
$$

感兴趣的一种形式是当目标是一个裸露的分辨单元（即：地面）时。这有时被称为'杂波与噪声比'，或CNR。参考文献1中的方程（23）定义了分辨单元的面积：

$$
\sigma=\sigma^{0} \delta_{a} \delta_{r g}=\sigma^{0} \delta_{a} \frac{\delta_{r}}{\cos \psi_{g}}
$$

Table B-5: 分辨单元变量

| 变量        | AFSIM 数据源 | 描述                                                 |
| ----------- | ------------ | ---------------------------------------------------- |
| $\sigma^0$  | 回波系数     | 回波系数。                                           |
| $\delta_r $ |              | 距离分辨率（从有效脉冲宽度计算）。                   |
| $\delta_rg$ |              | 地面平面上的距离分辨率。                             |
| $\psi_g$    |              | 入射角。是指观察点处的视线矢量与切线平面之间的角度。 |

代入：
$$
\begin{gathered}
S N R_{\text {image }}=P_{\text {avg }} \frac{G^{2} \lambda^{3}}{(4 \pi)^{3} R^{3} L_{x} L_{r} L_{a t m}} \sigma^{0} \delta_{a} \frac{\delta_{r}}{\cos \psi_{g}} \frac{1}{k T_{0} F_{N}} \frac{K_{a}}{2 V \delta_{a} \sin \theta_{s q}} \\
S N R_{\text {image }}=P_{\text {avg }} \frac{G^{2} \lambda^{3}}{(4 \pi)^{3} R^{3} L_{x} L_{r} L_{a t m}} \frac{\sigma^{0} \delta_{r}}{\cos \psi_{g}} \frac{1}{k T_{0} F_{N}} \frac{K_{a}}{2 V \sin \theta_{s q}}
\end{gathered}
$$

这基本上等同于参考文献1附录B中提出的多种形式（不过他们始终假设是正侧向的收集，所以 $\sin \theta_{s q}$ 始终为1）。

### B.5 Creation of AFSIM Pseudo-Images AFSIM虚拟图像的创建

AFSIM不产生真实图像，而是产生伪图像，指示图像中的物体、物体占据的分辨率单元（像素）数量和物体的强度。

- 用户将系统定位到所需位置并打开系统。模型构建了一个潜在位于图像中的目标列表。目标列表将包括略微位于图像区域之外的目标，以考虑目标可能移入图像的情况。
- 在定期间隔（由“帧时间”定义，默认为1秒）内，模型计算并累积来自步骤1中的每个目标的数据。这些检测结果的结果将被累积，就像SAR累积脉冲一样。如果目标在给定的采样期间被地形遮挡，那么在该间隔内不会定义任何有贡献的脉冲。
- 在某个时刻，SAR将关闭。在那时，模型将采用累积的结果并生成伪图像（WsfImage），并将包含图像的消息（WsflmageMessage）发送给已订阅的用户。

以下变量将在以下部分中使用：

表B-6：伪图像生成变量

|         变量          | AFSIM源             | 描述                                                         |
| :-------------------: | :------------------ | :----------------------------------------------------------- |
|         $t_F$         | frame_time          | 样本间隔，用于形成图像时的更新间隔。                         |
|  $n_{\text{actual}}$  |                     | 实际累积的脉冲数量。如果传感器在所需时间之前或之后关闭，可能与$n_{\text{image}}$不同。 |
|  $n_{\text{sample}}$  |                     | 样本的长度。除了最后一个样本外，所有样本的长度都为$t_F$。    |
|  $P_{\text{sample}}$  |                     | 样本期间接收到的脉冲数量。                                   |
| $N P_{\text{sample}}$ |                     | 特定目标在样本期间接收到的信号。                             |
| $\sigma_{\text{opt}}$ | optical_signature   | 特定目标在样本期间覆盖的分辨单元（像素）数量。               |
|   $P_{\text{sum}}$    |                     | 目标的光学特征。                                             |
|   $N_{\text{sum}}$    |                     | 特定目标的采样接收信号总和。                                 |
|   $P_{\text{seen}}$   |                     | 特定目标的采样像素计数总和。                                 |
|  $P_{\text{range}}$   |                     | 特定目标可见的样本数量（未被地形遮挡）。                     |
|         $CNR$         |                     | 与输出图像中零强度对应的参考信号。通常为最小杂波信噪比。     |
|  $CNR_{\text{min}}$   | detection_threshold | 用于将接收信号缩放到[0..1]范围的标准化值。                   |

步骤1计算预期的采集时间（$t_{D}$），以及要收集的脉冲数（$n_{\text{image}}$）。此外，它还计算了$CNR$的预期值。

在步骤2的每个样本中，采样间隔内接收的脉冲数为：
$$
n_{\text {sample }}=f_{p} t_{\text {sample }}
$$

对于给定的样本，目标占据的分辨单元（像素）数量是目标的投影面积（光学截面）除以一个分辨单元的大小：
$$
N P_{\text {sample }}=\frac{\sigma_{o p t}}{\delta_{a} \delta_{r}}
$$

在样本间隔内来自目标的每个分辨单元的接收功率是：
$$
P_{\text {sample }}=\frac{S N R_{\text {image }}}{N} \frac{n_{\text {sample }}}{n_{\text {image }}} \frac{1}{N P_{\text {sample }}}
$$

请注意，噪声已从累积中移除。这必须要做，以考虑到在某些样本中，目标可能不可见，或者实际的停留时间可能比最初计算的时间长或短。其他项考虑了内部计算 $S N R_{-}$image 的例程会计算整个目标预期停留时间的回报。

对于目标在其中并未被地形遮挡的每一个样本，将执行以下操作：
$$
\begin{gathered}
N_{\text {seen }}=N_{\text {seen }}+1 \\
P_{\text {sum }}=P_{\text {sum }}+P_{\text {sample }} \\
N P_{\text {sum }}=N P_{\text {sum }}+N P_{\text {sample }}
\end{gathered}
$$

在第3步中，必须计算实际达到的杂波与噪声比（Clutter-to-Noise Ratio）。在这一点上进行这一计算是因为现在已知实际收集到的脉冲数（用户可能选择在所需时间之前或之后关闭系统）。
$$
C N R_{\text {actual }}=\operatorname{CNR} \frac{n_{\text {actual }}}{n_{\text {image }}}
$$

如果 $C N R_{\text {actual }}$ 大于或等于 $C N R_{\text {min }}$，则图像将被认定为可接受，并将包含以下方式处理的目标。如果图像被声明为不可接受，那么生成的图像将不包含任何目标。

参考信号水平将被定义为：
$$
P_{\text {ref }}=\frac{C N R_{\text {actual }}}{N}
$$

如果图像被认定为可接受，每个目标都将产生以下信息：

目标所占用的像素数（分辨率单元）。这仅仅是目标没有被地形遮挡的每个样本中像素计数的平均值：
$$
N P=\frac{N P_{\text {sum }}}{N_{\text {seen }}}
$$

接着计算像素的强度。分辨率单元（也称为杂波单元）的积分回波代表了“零”强度，或者将返回零像素值的回波。
$$
I=\frac{P_{\text {sum }}-P_{\text {ref }}}{P_{\text {range }}}
$$

小于零的值会被限制为零，大于一的值会被限制为一。

## B.6 References

1. Doerry, Armin W., "Performance Limits for Synthetic Aperture Radar - second edition", Sandia National Laboratory Report SAND2006-0821, 2006.
2. Johnson, Jeffery, "AFSIM Communications, Sensor and Jamming Equations", Boeing
3. Renaud, Matthew J., "Synthetic Aperture Radar Mode Constraints", Boeing, 2007
4. Skolnik, M., Radar Handbook, 2nd edition, New York: McGraw-Hill, 1990.


## Appendix C- AFSIM Electronic Warfare Overview

### C.1 Electronic Warfare Architecture

在AFSIM中，电子战（EW）能力提供了从现有数据、低级模型（工程模型、交互模型等）对电子战技术的影响进行建模的功能，而无需捕获大量高精度信息（即脉冲级建模）。这主要结果在于数据/表格驱动的能力，以及在行为明确定义、文档化并已证明遵循特定指导方针的地方使用方程。这种建模水平的优点是提高了运行时间，并允许使用单一/少量模型定义来评估与不同系统上技术的不同效果相关的许多交互的较少细节。缺点是可能损失一些精度，并且某些边缘情况可能不会始终被正确捕获。

在AFSIM中实施电子战技术的一般编码方法是遵循一个面向对象（OO）的方法/框架，以便更容易地添加/更新新的电子战效果，同时在架构内部数据和方法的定位上增加了一些复杂性。电子战架构进一步细分为电子攻击（EA）和电子防护（EP）类，而电子支持（ES）则在AFSIM架构的另一部分中考虑。EA和EP类中的每一个都有多种技术，每一种都有其自己预定义和用户定义的称为效果的特性，如图C-1所示。

<img src="https://cdn.mathpix.com/snip/images/MFkC9xE23HeK9PgbKI9dwpKmh4dGjHnxTcXolfKFHiE.original.fullsize.png" width=400 />

**Figure C-1.** 电子战系统架构

在AFSIM系统定义中，EA（电子攻击）技术与图C-2中显示的发射系统相关联。同样，EP（电子防护）技术与图C-3中显示的接收系统相关联。发射机然后可以在发射机和接收机之间成功交互后将EA技术传递给接收机。EA和EP技术及其相关效果之间的交互是通过用户对EA和EP交互的映射来完成的，并在图C-3中描绘的发射机-接收机交互期间发生。虽然图C-2描述了一个传感器，但电子战技术的交互也与AFSIM中的通信系统相关，因为它们共享相同的基础接收机功能。

<img src="https://cdn.mathpix.com/snip/images/En1TwlcCt5McI59vLlH9uL_U8pWKw8gb_En8DxnbiqM.original.fullsize.png" width=400 />

**Figure C-2**. AFSIM中EA（电子攻击）技术的电子干扰（Jamming）系统架构

<img src="https://cdn.mathpix.com/snip/images/BQXVEQ3f5MkJl2ti_C3esbnD5k4w0P7dBfzUW-aGjEs.original.fullsize.png"  width=400/>

**Figure C-3.** AFSIM中EP（电子防护）技术的雷达系统架构

<img src="https://cdn.mathpix.com/snip/images/gZvJJxCqAf2jf6SXC1dslitJ_wadqLVA5mcEHjrfbXc.original.fullsize.png"  width=600/>


Figure C-4. 在AFSIM电子战（EW）架构中的EA（电子攻击）和EP（电子防护）交互映射。

### C.2 Electronic Attack Effects

在 AFSIM 中定义的具体电子攻击（EA）效果如下，附有简短的描述：

- `WSF_COMM_EFFECT`
    - 引发通信效应
- `WSF_COVER_PULSE_EFFECT`
    - 按概率引发覆盖脉冲效应
- `WSF_FALSE_TARGET_EFFECT`
    - 伪目标效应，并创建轨迹
    - 脉冲类型效应
- `WSF_POL_MOD_EFFECT`
    - 基于 `WSF_SLC_DEGRADE_EFFECT`，添加了一些数据以模拟极化调制技术
    - 引发 EP SLC 效应的退化
- `WSF_POWER_EFFECT`
     - 干扰器增益/退化效应
     - 大多数效应的基础类型
- `WSF_PULSE_EFFECT`
    - 脉冲级效应
    - 其他脉冲级基础类型的基础
- `WSF_RADIUS_EFFECT`
    - 目标/干扰器/雷达三者的半径效应
- `WSF_REPEATER_EFFECT`
    - 应用重复干扰效应
- `WSF_RPJ_EFFECT`
    - 随机脉冲干扰/调制（RPJ/RPM）效应
    - 脉冲类型效应
- `WSF_SIMPLE_FT_EFFECT`
    - 简单的伪目标效应，不创建轨迹
    - 脉冲类型效应
- `WSF_SLC_DEGRADE_EFFECT`
    - 额外的 SLC 退化因素
- `WSF_TRACK_EFFECT`
    - 引发轨迹错误效应(s)

这些EA（电子攻击）效果也使用AFSIM内部基类的继承，如图C-5所示，这些基类也能够在继承类中从命令输入级别使用其输入命令。

![](https://cdn.mathpix.com/cropped/2023_09_28_c5918ac9744d0906d814g-46.jpg?height=1138&width=1718&top_left_y=239&top_left_x=236)

Figure C-5. 用于EA（电子攻击）的基类型效果的层次结构。

### C.3 Electronic Protect Effects

在 AFSIM 中定义的具体电子保护（EP）效果如下，附有简短的描述：

- `WSF_AGILITY_EFFECT`
    - 频率和/或模式敏捷性/多样性效应
- `WSF_COMM_EFFECT`
    - 减轻通信效应
- `WSF_POWER_EFFECT`
    - 干扰器增益/退化效应
    - 大多数效应的基础类型
- `WSF_PULSE_EFFECT`
    - 脉冲级效应
    - 其他脉冲类型效应的基础
- `WSF_PULSE_SUPPRESS_EFFECT`
    - 用于脉冲型电子攻击效应的脉冲抑制效应
    - 脉冲类型效应
- `WSF_SLB_EFFECT`
    - 旁瓣消除器效应
- `WSF_SLC_EFFECT`
    - 侧瓣抵消器效应
- `WSF_TRACK_EFFECT`
    - 减轻轨迹错误效应

这些EP（电子防护）技术也使用AFSIM内部基类的继承，如图C-6所示，这些基类也能够在继承类中从命令输入级别执行其输入命令。

<img src="https://cdn.mathpix.com/snip/images/Oc2owhN1LAGJcL4bLlF08QQKjrFsgUEax71u7ReqAa8.original.fullsize.png"  width=400/>

Figure C-6. 电子防护（EP）的基础类型效应层次结构

### C.4 EW Interaction Overview

如前所述，AFSIM中的电子战（EW）效果包括在发射机-接收机或发射机-目标-接收机交互中应用的EA（电子攻击）效果和EP（电子防护）效果，这是由该软件中的效果行为和用户可修改的输入所定义的。在这种交互过程中，通过使用未缓解的EA效果，然后将任何缓解性的EP效果应用于EA效果，应用了EW的交互数据。然后重复此过程，直到所有EA效果的所有技术都与缓解性的EP效果一起应用，并聚合成一个用于修改发射机-接收机和发射机-目标-接收机之间交互的单一数据集。这种EW效果的聚合进一步在下面定义，以便更深入地了解AFSIM是如何应用这些效果的，并在图C-7中以图形方式描述。

#### C.4.1 Electronic Attack Effect Coherency 电子攻击效果相干

在交互计算中的干扰功率是使用通用AFSIM电磁计算来计算的。每个EA（电子攻击）效果都具有一种或多种在单个效果上的相干性类型。当应用这些效果时，遇到的效果相干性类型会被求和，最终在所有电子战效果计算结束后，干扰功率会被划分为三种类型的干扰功率（非相干、非相干脉冲、相干），这是基于在应用效果期间遇到的EA效果的相干性。可用的相干性类型在下表中定义，以及它被求和成的干扰功率类型。

Table C-1. Effect Coherency Types 效应一致性类型

| 效果相干性类型 | 描述                                                         | 映射的干扰功率类型 |
| :------------- | :----------------------------------------------------------- | :----------------- |
| 无             | 对于给定的效果，没有指定相干性。默认为非相干。               | 噪音               |
| 非相干         | 波形与发送和/或预期接收波形不相干。在最基础的意义上，假设连续的噪音类型波形。 | 噪音               |
| 非相干脉冲     | 波形是脉冲的，并且与发送和/或预期接收波形不相干。在最基础的意义上，假设脉冲噪音类型波形。 | 脉冲噪音           |
| 相干           | 波形与发送和/或预期接收波形相干。假设在最基础的意义上紧密地代表信号。 | 相干               |
| 相干脉冲       | 波形是脉冲的，并且与发送和/或预期接收波形相干。假设在最基础的意义上紧密地代表脉冲信号。 | 相干               |

Table C-2. Jamming Power Types

| 干扰功率类型 | 描述                                                      | 映射的效果相干性类型 |
| :----------- | :-------------------------------------------------------- | :------------------- |
| 噪音         | 干扰引发的功率，对接收机来说就像噪音功率。                | 无 & 非相干          |
| 脉冲噪音     | 脉冲干扰功率，对接收机来说就像噪音。                      | 非相干脉冲           |
| 相干         | 相干（连续和/或脉冲）干扰功率，对接收机来说就像一个信号。 | 相干 & 相干脉冲      |

在大多数互动中，信号干扰（S/I）比（信干比）是用信号功率除以噪音功率 + 杂波功率 + 干扰器功率来计算的。用于干扰的干扰器功率是噪音 + 脉冲（非相干）干扰器功率。

#### C.4.2 EW Effects Interaction Variables 电子战（EW）效果交互变量

以下电子战（EW）效果变量结构是为三种类型的干扰功率以及一个单独的信号、跟踪和消息效果结构定义的。下面的表格总结了这两种结构和相关变量：

Table C-3. Jamming Effects Variable Structure

| 电源效应变量 | 描述                                                   | 聚合类型     | 默认/未定义值 | 修改效应                                 |
| ------------ | ------------------------------------------------------ | ------------ | ------------- | ---------------------------------------- |
| 屏蔽因子     | 干扰屏蔽因子（例如，侧瓣屏蔽器）。                     | 乘法         | 1.0           | WSF_SLB_EFFECT                           |
| 取消因子     | 干扰消除因子（例如，侧瓣消除器）。                     | 最小值       | 1.0           | WSF SLC EFFECT, WSF SLC DEGRADE EFFECT   |
| 调制因子     | 干扰处理/调制类型因子，与物理干扰功率无关。            | 乘法         | 1.0           | WSF_POWER_EFFECT                         |
| 干扰功率因子 | 干扰物理功率因子。                                     | 乘法         | 1.0           | WSF_POWER_EFFECT, WSF_COVER_PULSE_EFFECT |
| J / X 因子   | 具有干扰对信号/噪声依赖性的备用干扰处理/调制类型。     | 乘法         | 1.0           | WSF_POWER_EFFECT                         |
| 目标保护标志 | 指定是否允许干扰功率与给定目标的接收机进行交互的标志。 | 未定义布尔值 | 未定义        | Base Effect                              |
| 脉冲抑制因子 | 脉冲类型干扰抑制因子。                                 | 乘法         | 1.0           | WSF_PULSE_SUPPRESS_EFFECT                |
| 半径因子     | 评估目标相对于干扰器位置以应用用户输入因子的因子。     | 乘法         | 1.0           | WSF_RADIUS_EFFECT                        |
| 中继干扰因子 | 取决于定义的中继器行为的物理干扰功率因子。             | 乘法         | 1.0           | WSF_REPEATER_EFFECT                      |
| RPJ因子      | 随机脉冲干扰因子。                                     | 乘法         | 1.0           | WSF_RPJ_EFFECT                           |

Table C-4. Signal Effects Variable Structure

| 信号效应变量       | 描述                 | 聚合类型 | 默认/未定义值 | 修改效应         |
| ------------------ | -------------------- | -------- | ------------- | ---------------- |
| 信号功率因子       | 信号功率因子。       | 乘性     | 1.0           | WSF_POWER_EFFECT |
| 接收机噪声功率因子 | 接收机噪声功率因子。 | 乘性     | 1.0           | WSF_POWER_EFFECT |

Table C-5. Track Effects Variable Structure

| 跟踪效应变量      | 描述              | 聚合类型                   | 默认/未定义值 | 修改效应                                           |
| -----------------| ----------------- | -------------------------- | ------------ | -------------------------------------------------- |
| 方位误差          | 跟踪方位误差。     | 最大（EA）/ 最小（EP）     | 0.0          | WSF_TRACK_EFFECT                                   |
| 俯仰误差          | 跟踪俯仰误差。     | 最大（EA）/ 最小（EP）     | 0.0          | WSF_TRACK_EFFECT                                   |
| 范围误差          | 跟踪范围误差。     | 最大（EA）/ 最小（EP）     | 0.0          | WSF_TRACK_EFFECT                                   |
| 速度误差          | 跟踪速度误差。     | 最大（EA）/ 最小（EP）     | 0.0          | WSF_TRACK_EFFECT                                   |
| 跟踪丢弃/维持标志  | 跟踪丢弃/维持标志。 | 未定义布尔值               | 未定义       | WSF_TRACK_EFFECT, WSF_SLB_EFFECT（目标屏蔽）       |

Table C-6. Message Effects Variable Structure


| 轨迹效应变量 | 描述                      | 聚合类型                | 默认/未定义值  | 修改效应         |
| -------------- | ------------------------- | ----------------------- | -------------- | ---------------- |
| 比特误码率 (BER) | 用于通信设备的 BER。       | 最大 (EA) / 最小 (EP)    | 0.0            | WSF_COMM_EFFECT  |
| 消息丢弃/维持标志 | 消息丢弃/维持标志。        | 未定义布尔值            | 未定义          | WSF_COMM_EFFECT  |

#### C.4.3 Aggregation Types 聚类类型

下表中给出的聚合类型用于将各个电子战（EW）效应值汇总（即，汇总）到用于交互以将任何与电子战相关的效应应用于目标检测、跟踪过程和/或消息（如适用）的交互值中。所有聚合都是以标准单位完成的（即，在 dB 空间中，乘法与加法相同）。

Table C-7. Aggregation Types 聚类类型

聚合类型 | 描述
:----------------|:-----------
最大值 | 取交互值和当前应用效果值中的最大值，并将其用作交互值。
最小值 | 取交互值和当前应用效果值中的最小值，并将其用作交互值。
加法 | 将交互值和当前应用效果值相加，并将其用作交互值。
乘法 | 将交互值和当前应用效果值相乘，并将其用作交互值。
布尔值 | 一个真/假（即，两态）标志，可根据效果的当前值和记录进行切换。
未定义的布尔值 | 类似于布尔值聚合类型，但除了真/假（即，三态）之外还有一个未定义状态可作为值。此类型可以根据效果的当前值和逻辑从未定义（其最常见的默认状态）切换到真/假（即，已定义），并在此后基于当前值和效果逻辑在三个状态之间切换。

<img src="https://cdn.mathpix.com/snip/images/wwLtesJmEdv_uASjVMlSqmV7vXHg4WYkARry4RgOOu0.original.fullsize.png" width=400 />

Figure C-7. AFSIM EW 交互流程图

## Appendix D- 反应式集成规划架构 Reactive Integrated Planning aRchitecture (RIPR) 

### D.1 Overview

RIPR是与AFSIM一起提供的用于行为建模的框架。RIPR是基于代理的，这意味着每个代理根据其自身的知识进行行动；然而，代理之间进行合作和通信是很常见的。RIPR最好被认为是一组工具和算法的集合，它们在构建一个智能代理时能很好地结合在一起。然而，大多数现代的RIPR代理确实包含一个感知处理器和一个量子任务处理器。代理通过查询平台及其子系统以获取信息来感知世界。代理内部构建知识，做出决策，然后通过相应地控制其平台来采取行动。大多数平台查询和控制动作都是在AFSIM脚本语言内部进行的。RIPR执行的知识构建和决策动作得到了这里总结的各种人工智能技术的支持。

#### D.2 Perception Processor 感知处理器

一个RIPR代理维护着其自己对威胁、资产和同伴的认知。这代表了代理有限的大脑，信息可能是延迟或错误的。为了表示不同技能水平的角色，每个代理都有自己可调整的认知模型。例如，一个"专家"级飞行员代理可以维护他每5秒更新（查看雷达）的16个威胁的知识。

### D.3 Quantum Tasker

RIPR Quantum Tasker 用于指挥官和下属之间的互动以及任务去冲突。Quantum Tasker 包括任务生成器、任务-资产对评估器、分配算法以及各种策略设置（例如如何处理被拒绝的任务分配）。每个组件（生成器、评估器、分配器）都可以从预定义的选项中选择，或者在脚本中自定义创建。RIPR Quantum Tasker 任务系统还与使用旧任务管理器（WSF_TASK_MANAGER 和 WSF_TASK_PROCESSOR）的平台兼容。它可以向其他 RIPR 代理和其他任务管理器平台发送和/或接收任务。

Quantum Tasker 的操作方法：

- 从认知模型中获取资产的感知，用于矩阵的列
- 从认知模型中获取威胁的感知
- 生成器为矩阵的行生成任务
- 策略决定如何处理先前分配的任务、被拒绝的任务或新任务
- 评估器计算可能的资产-任务对的值，用于矩阵主体
- 分配器在任务-资产矩阵上运行，以找到合适的任务分配，例如贪婪、最优等
- 任务通过通信分配，进行接受/拒绝的握手操作

<img src="https://cdn.mathpix.com/snip/images/wH9MEOwSRAF56m_DdOFY1v98QZiy2hkaJpTuREU74f8.original.fullsize.png" width=400/>

**Figure D- 1:** Quantum Tasker Method of Operation

### D.4 Behavior Tree

RIPR代理通常使用RIPR行为树来定义他们的行为。行为是执行某些独特动作的紧凑模块化脚本片段。行为应该是可参数化和可重用的。行为树允许以有趣的方式连接行为，以便它们按照某种特定顺序或子集来执行。整棵树聚合了行为以模拟代理的行为。

<img src="https://cdn.mathpix.com/snip/images/gl4xJr15pSryt4TnPC5Y2dDIwKwWkFbur5cLk8GaoGY.original.fullsize.png" width=400/>

**Figure D- 2:** RIPR Behavior Tree 

RIPR行为树提供了五种不同的中间连接器节点类型：

- 选择器（Selector）- 选择并执行第一个通过其前提条件检查的子行为。
- 序列（Sequence）- 按顺序执行所有子行为，直到其中一个未通过其前提条件检查。
- 并行（Parallel）- 执行所有通过前提条件检查的子行为。
- 加权随机（Weight Random）- 基于返回的前提条件值，对其子行为进行加权随机选择。
- 优先级选择器（Priority Selector）- 选择返回最大前提条件值的子行为。

行为树在开发和编辑代理时提供了最大的实用性。一个正确构建的行为树允许用户快速找到相关的脚本，并在适当的位置交换其他行为。例如：尝试将选择所需航向、高度和速度的行为与实际执行飞行任务的行为分开。当你开发一个新的飞行行为（例如，使用新的路线查找器的行为）时，你可以将其替换为旧的行为，同时保持计算所需方向的逻辑不变。

### D.5 Route Finder

路径查找器允许代理绕过静态和/或动态障碍。目前，障碍是在某个位置定义或附加到另一个平台上的圆形区域。路径查找器利用这个假设快速构建一个围绕所有需要避免的障碍的搜索图，并使用深度优先搜索找到通往目标的最佳路径。对于无法实现的路径，路径查找器有三个选项：

- 缩小有问题的避让区域
- 忽略有问题的避让区域
- 将起始/目标点移出所有有问题的避让区域外

<img src="https://cdn.mathpix.com/snip/images/U3zPmU6vV7oDSNzMaevbpsAkNU2_7n9_WqXPESNPPvw.original.fullsize.png" width=400/>

**Figure D- 3:** RIPR Route Finder

### D.6 Heat Map

热图允许在代理对其周围环境的知识中表示不确定性。例如，这一功能允许RIPR代理智能地尝试重新定位丢失的轨迹。在现实中，当一名飞行员丢失一个轨迹时，他仍然可以很好地了解轨迹的前进方向，根据这种直觉进行调整，并可能重新获取轨迹。这就是热图在AFSIM内部试图做的事情。它将尝试找出轨迹消失的位置，将这些区域标记为热区，检查这些区域，如果没有找到轨迹，它将将它们标记为冷区，并检查其他标记为热区的地方以寻找轨迹。如果这些热区没有被检查，它们会随着时间的推移而衰减。

<img src="https://cdn.mathpix.com/snip/images/2_5_ODB57YWqTBnkRZ9erVk8HIlzTYzS5U3joVysNG0.original.fullsize.png" width=400 />

Figure D-4: Heat Map Example

### D.7 Cluster Manager 群集管理

一些RIPR代理利用Cluster Manager来对威胁或资产感知进行聚类，以便将这些更大的集合视为较小的组。例如，指挥官通常会将传入的威胁分为两个群集，以便可以分别派遣其两个中队去追踪不同的群组。Cluster Manager可以基于所需的相似性阈值或基于所需的群集数量进行聚类。相似性测量可以基于地面距离、3D距离或3D距离和速度。Cluster Manager可以使用三种聚类算法之一：

- 分层树Max - 默认设置，保证是最优的，没有群集成员与阈值之外的任何其他成员不相似（这种方法提供了更紧凑的“经典”成员群组）
- 分层树Min - 保证是最优的，没有群集成员与阈值之外的至少一个其他成员不相似（这种方法允许长的“细长”的成员链）
- K-均值 - 不保证是最优的，最快的，群集是以K个不同的平均点为中心的。

### D.8 Example agent interaction using all technologies

- 指挥官代理从其认知模型（感知处理器）中获取威胁信息。
- 指挥官的量子任务生成器将威胁分组，并为每组创建一个任务。
- 指挥官的量子任务评估器对其中队（资产）与每个组进行评分。
- 指挥官的量子任务分配器找到最优的任务分配。
- 指挥官通过通信将任务分配给下属飞行组长。
- 飞行组长在解释任务时使用认知模型中的资产和威胁感知。
- 飞行组长代理的量子任务生成器生成、评估、分配，并将任务分配给飞行员代理。
- 飞行员代理使用认知模型中的同级和威胁感知。
- 飞行员代理的行为树检查回避、解除、紧急情况。
- 飞行员代理的行为树飞行以拦截，并最终根据任务接触威胁。
- 飞行员代理使用路径查找器在前往目标的过程中绕过SAM区域。


## Appendix E- AFSIM 的历史发展

AFSIM基于波音公司的网络支持系统分析框架（AFNES）。根据合同，波音公司于2013年2月将AFNES（包括源代码）以无限制的政府权利的形式交付给了空军（特别是AFRL/RQQD）。AFRL/RQQD将AFNES重新命名为AFSIM，并开始在空军和国防部（DoD）内部，包括DoD承包商之间进行分发。

波音公司从2003年到2014年通过内部研究和发展（IR&D）资金开发和资助了AFNES仿真框架。从2005年开始，波音开始开发一个定制的AFNES能力，用于模拟威胁集成防空防御系统（IADS），以评估执行精确打击任务的先进空中载具概念。这种新的IADS仿真能力的需求包括能够与空军批准的任务级模型的结果相匹配。开发AFNES作为空军IADS建模能力的替代方案的原因与空军任务级模型存在的局限性有关。空军建模不足的领域包括：扩展电子战（EW）技术的表示；独立跟踪和关联系统的集成；利用供应商提供的自动路由器和任务优化能力；网络中心通信系统；空间资产的贡献；以及特殊、现有模型（例如AGI的系统工具包（STK））的集成。

AFNES的IADS能力在2008年变得可操作，并目前正被多个波音开发计划以及政府合同计划用于评估先进空中载具设计概念穿透先进的防空网络并执行精确打击任务的能力。因为空军也对分析未来载具在持久和响应性精确打击领域感兴趣，这一能力在过去五年的不同时间已向空军人员简报。2010年，AFRL/RQQD的航空器技术评估与仿真（AVTAS）实验室（前身为AFRL/RBCD）委托了一项M&S框架的贸易研究，以评估替换或增加其当前建设性仿真环境的潜在替代方案。AFRL贸易研究的结果是选择AFNES作为满足其空中载具任务有效性分析要求的最佳M&S框架。

根据合同，波音公司于2013年2月将AFNES（包括源代码）以无限制的政府权利的形式交付给了空军（特别是AFRL/RQQD）。AFRL/RQQD将AFNES重新命名为高级仿真、集成和建模框架（AFSIM），并开始在空军和DoD内部，包括DoD承包商之间进行分发。AFSIM的一个关键重点领域一直是IADS的仿真表示，以及与空军建模的分布式空军任务级模型进行验证和验证的威胁表示。AFSIM提供了扩展的建模和仿真能力，以支持与全球打击和其他研究活动相关的任务级分析研究。



## List of Acronyms, Abbreviations, and Symbols



| Acronym  |                         Description                          |            描述            |
| :------: | :----------------------------------------------------------: | :------------------------: |
|  AFNES   |        Analytic Framework For Network Enabled Systems        |   面向网络系统的分析框架   |
|  AFSIM   | Advanced Framework for Simulation, Integration, and Modeling |  高级仿真、集成和建模框架  |
|   AFRL   |                Air Force Research Laboratory                 |       空军研究实验室       |
|   ANSI   |            American National Standards Institute             |     美国国家标准研究院     |
|   API    |              Application Programming Interface               |      应用程序编程接口      |
|  AVTAS   |    Aerospace Vehicles Technology Assessment & Simulation     | 航空航天车辆技术评估与仿真 |
|    CC    |                    Conventional Campaign                     |          常规战役          |
|   CNR    |                    Clutter to Noise Ratio                    |        杂波与噪声比        |
|   DEM    |                   Digital Elevation Model                    |        数字高程模型        |
|   DIS    |              Distributed Interactive Simulation              |       分布式交互仿真       |
|   DLL    |                    Dynamic Link Libraries                    |         动态链接库         |
|   DOE    |                    Design Of Experiments                     |          实验设计          |
|   DTED   |                Digital Terrain Elevation Data                |      数字地形高程数据      |
|    EM    |                       Electromagnetic                        |            电磁            |
|   ENU    |                       East, North, Up                        |           东北上           |
|    EA    |                      Electronic Attack                       |          电子攻击          |
|    EP    |                      Electronic Protect                      |          电子防护          |
|   ESM    |                  Electronic Support Measure                  |        电子支援措施        |
|    EW    |                      Electronic Warfare                      |           电子战           |
|   Geo    |                       Geo-referencing                        |          地理参考          |
|   GUI    |                   Graphical User Interface                   |        图形用户界面        |
|   HLA    |                   High Level Architecture                    |          高层架构          |
|   HTML   |                  HyperText Markup Language                   |       超文本标记语言       |
|   IADS   |                Integrated Air Defense Systems                |        综合防空系统        |
|   IDE    |              Integrated Development Environment              |        集成开发环境        |
|   IR&D   |              Internal Research and Development               |       内部研究与开发       |
|   ISO    |        International Organization for Standardization        |       国际标准化组织       |
|   ITU    |            International Telecommunications Union            |        国际电信联盟        |
|   M&S    |                   Modeling and Simulation                    |         建模与仿真         |
|   MCO    |                   Major Combat Operations                    |        主要作战行动        |
|   NCO    |                  Network Centric Operations                  |         网络中心战         |
|   NED    |                      North, East, Down                       |           北东地           |
|   NGA    |           National Geospatial-Intelligence Agency            |     国家地理空间情报局     |
|   OSG    |                       Open Scene Graph                       |         开放场景图         |
|    OO    |                       Object Oriented                        |          面向对象          |
|  PIANO   |         Parametric Integrated Analysis of Objectives         |    目标的参数化集成分析    |
|    RF    |                       Radio Frequency                        |            射频            |
|   RIPR   |          Reactive Integrated Planning Architecture           |     响应式集成规划架构     |
|   RWR    |                    Radar Warning Receiver                    |       雷达警告接收器       |
| Wsf Exec |             World Simulation Framework Executive             |      世界仿真框架执行      |
|   SAM    |                    Surface-to-Air Missile                    |         地对空导弹         |
|   SAR    |                   Synthetic Aperture Radar                   |        合成孔径雷达        |
|   SDB    |                      Scenario Data Base                      |         场景数据库         |
|   SIMS   |             Standard Industry Missile Simulator              |     标准行业导弹模拟器     |
|   SNR    |                    Signal to Noise Ratio                     |           信噪比           |
|    SO    |                        Shared Objects                        |          共享对象          |
|   STK    |                       System Tool Kit                        |         系统工具包         |
|   TDB    |                        Type Data Base                        |         类型数据库         |
|   TIFF   |                   Tagged Image File Format                   |      标记图像文件格式      |
|   UCAV   |                 Unmanned Combat Air Vehicle                  |        无人作战飞机        |
|   USAF   |                   United States Air Force                    |          美国空军          |
|   USGS   |               United States Geological Survey                |       美国地质调查局       |
|   V&V    |                  Verification \& Validation                  |         验证和验证         |
|   VCD    |                  Vertical Coverage Diagram                   |         垂直覆盖图         |
|  VESPA   |   Visual Environment for Scenario Preparation and Analysis   |  场景准备和分析的视觉环境  |
|   VMAP   |                          Vector Map                          |           矢量图           |
|   VTK    |                        VESPA ToolKit                         |        VESPA工具包         |
|   WGS    |                    World Geodetic System                     |      世界大地测量系统      |



----------

在[“Review of the Research Progress in Combat Simulation Software”](https://www.mdpi.com/2076-3417/13/9/5571)中参考文献中提到的几个有关AFSIM的文献

1.  Thompson, J.S.; Hodson, D.D. AFSIMs pseudo-realtime hybrid simulation software design. J. Def. Model. Simul. 2022, 19, 575-587. [Google Scholar] [CrossRef]
2.  Allison, D.; Shimmin, K.; Schley, W.; Bryson, D. Automated 6DOF Model Generation and Actuator Sizing within AFSIM. In 2019 SAE AeroTech Americas Congress and Exhibition; United States Air Force: Charleston, SC, USA, 2019. [Google Scholar]
3.  Hanlon, N.; Garcia, E.; Casbeer, D.W.; Pachter, M. AFSIM implementation and simulation of the active target defense differential game. In Proceedings of the 2018 AIAA Guidance, Navigation, and Control Conference, Kissimmee, FL, USA, 8-12 January 2018; AIAA: Kissimmee, FL, USA, 2018. [Google Scholar]



<iframe
  src="/assets/pdf/AFSIM Version 2 TECHNICAL REFERENCE.pdf"
  width="100%"
  height="900"
  style="border:1px solid #ccc;"
>
  此浏览器不支持 iframe，请  
  <a href="/assets/pdf/AFSIM Version 2 TECHNICAL REFERENCE.pdf">点击下载 PDF</a>
</iframe>