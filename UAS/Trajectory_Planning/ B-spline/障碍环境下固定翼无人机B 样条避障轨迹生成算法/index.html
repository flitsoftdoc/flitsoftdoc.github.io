
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="FlitSoft Documents">
      
      
        <meta name="author" content="flitsoftdoc">
      
      
        <link rel="canonical" href="https://flitsoftdoc.github.io/UAS/Trajectory_Planning/%20B-spline/%E9%9A%9C%E7%A2%8D%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%9B%BA%E5%AE%9A%E7%BF%BC%E6%97%A0%E4%BA%BA%E6%9C%BAB%20%E6%A0%B7%E6%9D%A1%E9%81%BF%E9%9A%9C%E8%BD%A8%E8%BF%B9%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95/">
      
      
        <link rel="prev" href="../%E9%9A%9C%E7%A2%8D%E7%8E%AF%E5%A2%83%E4%B8%8BB%E6%A0%B7%E6%9D%A1%E8%BD%A8%E8%BF%B9%E9%97%AE%E9%A2%98%E8%A7%A3%E6%9E%90/">
      
      
        <link rel="next" href="../../Cubic%20Polynomial%20Curve/Cubic%20Polynomial%20Curve%20Trajectory/">
      
      
      <link rel="icon" href="/assets/logo/grid.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>固定翼无人机B 样条避障轨迹生成 - FlitSoft Doc Hub</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/pseudo-code.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XX66BVLPNX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XX66BVLPNX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XX66BVLPNX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#b" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="FlitSoft Doc Hub" class="md-header__button md-logo" aria-label="FlitSoft Doc Hub" data-md-component="logo">
      
  <img src="/assets/logo/grid.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FlitSoft Doc Hub
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              固定翼无人机B 样条避障轨迹生成
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/flitsoftdoc/flitsoftdoc.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    flitsoftdoc/flitsoftdoc.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  
    
  
  UAS

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../EM/" class="md-tabs__link">
          
  
  
    
  
  EM

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../AI/" class="md-tabs__link">
          
  
  
    
  
  AI

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Gaming/" class="md-tabs__link">
          
  
  
    
  
  Decision

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../C2/" class="md-tabs__link">
          
  
  
    
  
  NGC3

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Simu/" class="md-tabs__link">
          
  
  
    
  
  Simulation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Visual/" class="md-tabs__link">
          
  
  
    
  
  Visualization

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blog/" class="md-tabs__link">
          
  
  
    
  
  Blog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="FlitSoft Doc Hub" class="md-nav__button md-logo" aria-label="FlitSoft Doc Hub" data-md-component="logo">
      
  <img src="/assets/logo/grid.png" alt="logo">

    </a>
    FlitSoft Doc Hub
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/flitsoftdoc/flitsoftdoc.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    flitsoftdoc/flitsoftdoc.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    UAS
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            UAS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Formation Control
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Formation Control
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Formation%20Control/%E5%9B%BA%E5%AE%9A%E7%BF%BC%E6%97%A0%E4%BA%BA%E6%9C%BA%E9%98%B5%E5%9E%8B%E5%8F%98%E6%8D%A2%E8%BF%87%E6%B8%A1%E8%BD%A8%E8%BF%B9%E7%94%9F%E6%88%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    固定翼无人机阵型变换过渡轨迹生成
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Formation%20Control/%E5%9F%BA%E4%BA%8E%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E6%8E%A7%E5%88%B6%E7%9A%84%E6%97%A0%E4%BA%BA%E6%9C%BA%E7%BC%96%E9%98%9F%E9%A3%9E%E8%A1%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基于非线性模型预测控制的无人机编队飞行
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Formation%20Control/%E6%97%A0%E4%BA%BA%E6%9C%BA%E9%9B%86%E7%BE%A4%E5%9B%BA%E5%AE%9A%E9%98%B5%E5%9E%8B%E8%BD%A8%E8%BF%B9%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    无人机集群固定阵型轨迹生成模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Fix wing uav flight sim
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Fix wing uav flight sim
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fix_wing_uav_flight_sim/fix_wing_uav_flight_sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    小型固定翼无人机飞行动力学模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fix_wing_uav_flight_sim/JSBSim_Quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSBSim Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fix_wing_uav_flight_sim/JSBSim_User_manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSBSim 用户手册
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fix_wing_uav_flight_sim/StandaloneLaeroModel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    轻量级飞行动力学模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Navigation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Navigation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../navigation/scirobotics.ado6187.ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向微型无人机的安全保障高速导航
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Path Searching
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Path Searching
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_1" >
        
          
          <label class="md-nav__link" for="__nav_1_5_1" id="__nav_1_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    A* Search
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_1">
            <span class="md-nav__icon md-icon"></span>
            A* Search
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Path%20Searching/A%2A%20Search/A%2A%20Path%20Searching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基于运动基元的A*算法
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" checked>
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Trajectory Planning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Trajectory Planning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Key%20of%20Trajectory%20Manage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    轨迹管理的几个关键问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6_2" checked>
        
          
          <label class="md-nav__link" for="__nav_1_6_2" id="__nav_1_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
     B spline
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_6_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_6_2">
            <span class="md-nav__icon md-icon"></span>
             B spline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%9A%9C%E7%A2%8D%E7%8E%AF%E5%A2%83%E4%B8%8BB%E6%A0%B7%E6%9D%A1%E8%BD%A8%E8%BF%B9%E9%97%AE%E9%A2%98%E8%A7%A3%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    障碍环境下B样条轨迹问题解析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    固定翼无人机B 样条避障轨迹生成
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    固定翼无人机B 样条避障轨迹生成
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#b_1" class="md-nav__link">
    <span class="md-ellipsis">
      障碍环境下固定翼无人机B 样条避障轨迹生成算法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      一、输入与预备工作
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、输入与预备工作">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 输入数据
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 符号与变量定义
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      二、算法步骤
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、算法步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 计算原始离散路径每段到障碍的最小距离与最大允许间距
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 等距插值生成初始控制点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-b" class="md-nav__link">
    <span class="md-ellipsis">
      3. 构造三次 B 样条与节点向量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 后端优化：凸包避碰、曲率与速度/加速度约束
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 离散化输出与轨迹跟随
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      三、算法要点与注意事项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      四、伪代码示例
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      五、算法总结与特点
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C++代码实现
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      附：带不等式约束非线性优化求解方法对比
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附：带不等式约束非线性优化求解方法对比">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 梯度下降 / 拟牛顿法（基于数值微分估算梯度）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 梯度下降 / 拟牛顿法（基于数值微分估算梯度）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      实现思路
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sequential-quadratic-programming-sqp" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sequential Quadratic Programming (SQP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Sequential Quadratic Programming (SQP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      原理与实现流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-alternating-least-squares" class="md-nav__link">
    <span class="md-ellipsis">
      3. 交替最小二乘（Alternating Least Squares）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 交替最小二乘（Alternating Least Squares）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      原理与实现思路
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-ipoptnloptcasadisnopt" class="md-nav__link">
    <span class="md-ellipsis">
      4. 使用成熟的非线性优化库（如 IPOPT、NLopt、CasADi、SNOPT 等）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 使用成熟的非线性优化库（如 IPOPT、NLopt、CasADi、SNOPT 等）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      原理与实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 综合对比与推荐
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 综合对比与推荐">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      推荐策略
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 最终建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6_3" >
        
          
          <label class="md-nav__link" for="__nav_1_6_3" id="__nav_1_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cubic Polynomial Curve
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6_3">
            <span class="md-nav__icon md-icon"></span>
            Cubic Polynomial Curve
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Cubic%20Polynomial%20Curve/Cubic%20Polynomial%20Curve%20Trajectory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    用于轨迹规划的三次样条插值
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6_4" >
        
          
          <label class="md-nav__link" for="__nav_1_6_4" id="__nav_1_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Kappa trajectories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6_4">
            <span class="md-nav__icon md-icon"></span>
            Kappa trajectories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kappa-trajectories/kappa-%E8%BD%A8%E8%BF%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    κ轨迹平滑
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kappa-trajectories/kappa%E8%BD%A8%E8%BF%B9%E7%82%B9%E7%94%9F%E6%88%90C%2B%2B%E4%BB%A3%E7%A0%81%E8%AF%B4%E6%98%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    κ轨迹点生成代码说明
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kappa-trajectories/Real-time_dynamic_trajectory_smoothing_for_unmanne%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    无人机实时动态轨迹平滑
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kappa-trajectories/%E7%AD%89%E9%95%BF%E8%BD%A8%E8%BF%B9kappa%E6%B1%82%E8%A7%A3%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    等长轨迹κ求解算法设计
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Velocity Plan
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            Velocity Plan
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Velocity_Plan/%E4%B8%89%E6%AE%B5S%E6%9B%B2%E7%BA%BF%E9%80%9F%E5%BA%A6%E8%A7%84%E5%88%92%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    三段S曲线速度规划模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../EM/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    EM
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            EM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Antenna Pattern
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Antenna Pattern
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Antenna%20Pattern/01.%E8%BE%9B%E6%A0%BC%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    辛格方向图模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Antenna%20Pattern/02.%E9%AB%98%E6%96%AF%E6%96%B9%E5%90%91%E5%9B%BE%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    高斯方向图模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Comm
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Comm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Comm/%E5%9C%B0%E7%A9%BA%E6%B5%8B%E6%8E%A7%E9%93%BE%E8%B7%AF%E8%AE%A1%E7%AE%97%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    地空测控链路计算模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Radar
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Radar
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/%E6%97%A0%E6%BA%90%E4%BE%A6%E5%AF%9F%E6%B5%8B%E5%90%91%E5%AE%9A%E4%BD%8D%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    无源侦察测向定位模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/%E9%9B%B7%E8%BE%BE%E5%AF%B9%E6%8A%97%E4%BE%A6%E5%AF%9F%E6%95%88%E8%83%BD%E6%A8%A1%E5%9E%8B%EF%BC%88%E7%A9%BA%E5%AF%B9%E5%9C%B0%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    空对地雷达对抗侦察效能模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/%E9%9B%B7%E8%BE%BE%E5%AF%B9%E6%8A%97%E4%BE%A6%E5%AF%9F%E9%80%9A%E7%94%A8%E4%BE%A6%E5%AF%9F%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    雷达对抗侦察效能通用模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/%E9%9B%B7%E8%BE%BE%E5%B9%B2%E6%89%B0%E6%95%88%E8%83%BD%E6%A8%A1%E5%9E%8Bv3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    雷达干扰效能模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/%E9%9B%B7%E8%BE%BE%E6%8E%A2%E6%B5%8B%E8%B7%9D%E7%A6%BB%E7%A6%BB%E7%BA%BF%E8%AE%A1%E7%AE%97%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    雷达探测距离计算器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6" >
        
          
          <label class="md-nav__link" for="__nav_2_4_6" id="__nav_2_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Radar Equations for Modern Radar
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_6">
            <span class="md-nav__icon md-icon"></span>
            Radar Equations for Modern Radar
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/Radar%20Equations%20for%20Modern%20Radar/Radar%20Equations%20for%20MR%20ch01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第1章 雷达方程的发展
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/Radar%20Equations%20for%20Modern%20Radar/Radar%20Equations%20for%20MR%20ch02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第2章 搜索雷达方程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../EM/Radar/Radar%20Equations%20for%20Modern%20Radar/Radar%20Equations%20for%20MR%20ch03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第3章 杂波与干扰压制下的雷达方程
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../AI/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/Americas-AI-Action-Plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Americas AI Action Plan
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/Foundation%20models%20and%20intelligent%20decision-making/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Foundation models and intelligent decision making
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/LoRA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LoRA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/MARLlib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MARLlib
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/Why%20We%20Think%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why We Think
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../Gaming/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Decision
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Decision
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Comparative%20Analysis%20of%20Task%20Allocation%20Algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    多无人机任务分配算法的比较分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/DAVIS_OCEANS_2025_PDF_XPRESS%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向无人水面艇探测的传感器套件设计框架
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Multi-UAV%20Task%20Assignment%20in%20Dynamic%20Environments%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    动态环境下多无人机任务分配技术现状
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Policy%20Space%20Response%20Oracles-%20A%20Survey/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    策略空间响应预言机 PSRO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Towards%20Global%20Explainability%20of%20Artificial%20Intelligence%20Agent%20Tactics%20in%20Close%20Air%20Combat%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向近距离空战中人工智能智能体战术的全局可解释性
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Behavior Tree
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Behavior Tree
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Behavior%20Tree/Behavior%20Trees%20in%20Robot%20Control%20Systems.ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    行为树在机器人控制系统中的应用
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Behavior%20Tree/BehaviorTree.CPP%204.6%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BehaviorTree.CPP库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Behavior%20Tree/BT2208.04211v2.ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    机器人应用中的行为树和状态机
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Behavior%20Tree/Generation%20of%20Behavior%20Trees%20for%20Dynamic%20Agents%20Based%20on%20Market%20Inspired%20Task%20Allocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基于市场启发的任务分配的动态智能体行为树生成
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Behavior%20Tree/LLM-BRAIn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM-BRAIn: 基于LLM驱动的行为树快速生成方
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Gaming/Behavior%20Tree/%E8%A1%8C%E4%B8%BA%E6%A0%91%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    行为树基本概念
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../C2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    NGC3
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            NGC3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../C2/Advanced%20Battle%20Management%20System/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    先进战斗管理系统 (ABMS)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../C2/AEP-84%20VOLI%20EDA%20V1%20ch-all/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    北约工程出版物 AEP-84 Volume I
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../C2/Decision%20Advantage%20and%20Initiative%20Completing%20Joint%20All-Domain%20Command%20and%20Control.ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    决策优势与主动权
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../C2/Force-Based%20MANET_FANET/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基于力的无人机蜂群自组织MANET/FANET
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../Simu/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Simulation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Simulation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/HIL%20Swarm%20Simulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HIL Swarm Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/MARSIM%3A%20A%20point-realistic%20simulator%20for%20LiDAR-based%20UAVs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MARSIM: A light-weight point-realistic simulator for LiDAR-based UAVs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/OctoMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OctoMap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/The%20Mixed%20Reality%20Simulation%20Platform%20%28MIXR%29%20ch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MIXR 混合现实仿真平台
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/ZMQ%20guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ZMQ guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/%E6%97%A0%E4%BA%BA%E6%9C%BA%E8%9C%82%E7%BE%A4%E6%99%BA%E8%83%BD%E8%AE%AD%E7%BB%83%E5%B9%B3%E5%8F%B0%E8%AE%BE%E8%AE%A1.v1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    蜂群算法训练平台设计方案
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AFSIM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            AFSIM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/AFSIM/AFSIM.cn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AFSIM Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/AFSIM/AFSIM%20Version%202.0%20TECHNICAL%20REFERENCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AFSIM V2.0 TECHNICAL REFERENCE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/AFSIM/afsims-pseudo-realtime-hybrid-simulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AFSIM 的伪实时混合仿真软件设计
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_9" >
        
          
          <label class="md-nav__link" for="__nav_6_9" id="__nav_6_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SIMDIS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_9">
            <span class="md-nav__icon md-icon"></span>
            SIMDIS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/SIMDIS/SIMDIS%20SDK/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIMDIS SDK 架构分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/SIMDIS/SIMDIS%20SDK%20SimCore%20v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIMDIS SDK SimCore代码库分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Simu/SIMDIS/SIMDIS_Briefing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIMDIS Briefing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../Visual/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Visualization
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Visualization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Visual/TacView/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tacview Technical Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Visual/%E5%9F%BA%E4%BA%8ESIMDIS%20SDK%E4%B8%8EOSG%E7%9A%843D%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E7%BB%BC%E5%90%88%E5%AE%9E%E6%96%BD%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIMDIS SDK与OSG
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../blog/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#b_1" class="md-nav__link">
    <span class="md-ellipsis">
      障碍环境下固定翼无人机B 样条避障轨迹生成算法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      一、输入与预备工作
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、输入与预备工作">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 输入数据
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 符号与变量定义
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      二、算法步骤
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、算法步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 计算原始离散路径每段到障碍的最小距离与最大允许间距
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 等距插值生成初始控制点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-b" class="md-nav__link">
    <span class="md-ellipsis">
      3. 构造三次 B 样条与节点向量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 后端优化：凸包避碰、曲率与速度/加速度约束
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 离散化输出与轨迹跟随
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      三、算法要点与注意事项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      四、伪代码示例
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      五、算法总结与特点
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C++代码实现
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      附：带不等式约束非线性优化求解方法对比
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附：带不等式约束非线性优化求解方法对比">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 梯度下降 / 拟牛顿法（基于数值微分估算梯度）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 梯度下降 / 拟牛顿法（基于数值微分估算梯度）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      实现思路
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sequential-quadratic-programming-sqp" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sequential Quadratic Programming (SQP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Sequential Quadratic Programming (SQP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      原理与实现流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-alternating-least-squares" class="md-nav__link">
    <span class="md-ellipsis">
      3. 交替最小二乘（Alternating Least Squares）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 交替最小二乘（Alternating Least Squares）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      原理与实现思路
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-ipoptnloptcasadisnopt" class="md-nav__link">
    <span class="md-ellipsis">
      4. 使用成熟的非线性优化库（如 IPOPT、NLopt、CasADi、SNOPT 等）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 使用成熟的非线性优化库（如 IPOPT、NLopt、CasADi、SNOPT 等）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      原理与实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 综合对比与推荐
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 综合对比与推荐">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      推荐策略
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 最终建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  
    
      
    
    <a href="https://github.com/flitsoftdoc/flitsoftdoc.github.io/raw/main/docs/UAS/Trajectory_Planning/ B-spline/障碍环境下固定翼无人机B 样条避障轨迹生成算法.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="b">固定翼无人机B 样条避障轨迹生成<a class="headerlink" href="#b" title="Permanent link">&para;</a></h1>
<h2 id="b_1">障碍环境下固定翼无人机B 样条避障轨迹生成算法<a class="headerlink" href="#b_1" title="Permanent link">&para;</a></h2>
<p><a href="https://github.com/flitai/fixed-wing-bspline-trajectory">C++代码实现</a></p>
<hr />
<h2 id="_1">一、输入与预备工作<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="1"><strong>1. 输入数据</strong><a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<ol>
<li>初始离散路径点序列</li>
</ol>
<p>$$
   \mathcal{P} = {\,P_0,\,P_1,\,\dots,\,P_N},
   \quad
   P_i = (x_i,\,y_i,\,v_i,\,a_i),
   \quad i = 0,1,\dots,N,
   $$</p>
<p>由“动力学路径搜索”算法（基于运动原语的混合状态 A*、Kinodynamic A* 等）生成，满足：</p>
<ul>
<li>每个 <span class="arithmatex">\(P_i\)</span> 处对应的栅格单元为“空闲”（Free）。</li>
<li>
<p>相邻状态间已满足初步的动力学可行性，并避免直接与障碍碰撞。</p>
</li>
<li>
<p>二维障碍物栅格地图 <span class="arithmatex">\(\mathcal{G}\)</span></p>
</li>
</ul>
<p>$$
   \mathcal{G}[u,v] \in {0,1}, 
   \quad u=1,\dots,M,\;v=1,\dots,N,
   $$</p>
<p>其中 1 表示“障碍（Occupied）”，0 表示“空闲（Free）”；</p>
<ul>
<li>栅格分辨率：<span class="arithmatex">\(r_{\text{res}}\)</span>（如 0.1 m），便于将连续坐标 <span class="arithmatex">\((x,y)\)</span> ↔ 栅格索引 <span class="arithmatex">\((u,v)\)</span> 转换。</li>
<li>
<p>预先计算得到 <strong>距离场</strong> <span class="arithmatex">\(\mathrm{DF}[u,v]\)</span>，用以查询任意位置到最近障碍物的欧氏距离。</p>
</li>
<li>
<p>固定翼飞机动力学参数</p>
</li>
<li>
<p>最小允许飞行速度：<span class="arithmatex">\(\bar v_{\min} &gt; 0\)</span>。</p>
</li>
<li>最大允许飞行速度：<span class="arithmatex">\(\bar v_{\max} &gt; \bar v_{\min}\)</span>。</li>
<li>最大允许加速度：<span class="arithmatex">\(\bar a &gt; 0\)</span>。</li>
<li>
<p>最小回转半径： <span class="arithmatex">\(R_{\min} &gt; 0\)</span>，对应最大曲率 <span class="arithmatex">\(\kappa_{\max} = 1/R_{\min}\)</span>。</p>
</li>
<li>
<p>B 样条与离散化参数</p>
</li>
<li>
<p>样条次数（阶数）：<span class="arithmatex">\(p = 3\)</span>（三次 B 样条）。</p>
</li>
<li>时间间隔：<span class="arithmatex">\(\Delta t &gt; 0\)</span>，决定离散化时每一步的时刻增量。</li>
</ul>
<h3 id="2"><strong>2. 符号与变量定义</strong><a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<ul>
<li>原始离散路径：<span class="arithmatex">\(\{P_0,\dots,P_N\}\)</span>。</li>
<li>相邻点欧氏距离：</li>
</ul>
<p>$$
  \ell_i = |P_{i+1} - P_i|,\quad i=0,\dots,N-1.
  $$
* 在路径点附近与障碍的最小距离：</p>
<p>$$
  d_c^{(i)} = \min_{x\in \overline{P_iP_{i+1}}}\bigl(\mathrm{距离场}(x)\bigr),
  \quad i = 0,\dots,N-1.
  $$</p>
<p>（可近似取 <span class="arithmatex">\(\min\{\mathrm{DF}(\lfloor P_i\rfloor),\,\mathrm{DF}(\lfloor P_{i+1}\rfloor)\}\)</span>，若栅格足够密。）
* 相邻两点之间允许的最大间距：</p>
<p>$$
  r_{\max}^{(i)} = \min\Bigl{\tfrac{d_c^{(i)}}{3},\,\bar v_{\max}\,\Delta t\Bigr},
  \quad i=0,\dots,N-1.
  $$
* 插值后得到的控制点序列：</p>
<p>$$
  {Q_0,\,Q_1,\,\dots,\,Q_M},\quad M \ge N,
  $$</p>
<p>其中首尾 <span class="arithmatex">\(\{Q_0,Q_1,Q_2\}\)</span> 与 <span class="arithmatex">\(\{Q_{M-2},Q_{M-1},Q_M\}\)</span> 将用于打结并固定边界。
* 节点向量（均匀打结）：</p>
<p>$$
  {\,t_0,\dots,t_{M+p+1}},\quad
  t_0=t_1=t_2=t_3,\quad
  t_{M+1}=t_{M+2}=t_{M+3}=t_{M+4},\quad
  t_{k+1}-t_k = \Delta t\;\text{（对 }k=p,\dots,M\text{）}.
  $$
* B 样条轨迹：</p>
<p>$$
  \mathcal{S}(t) \;=\; \bigl(x(t),\,y(t)\bigr)
  \;=\; \sum_{j=0}^{M} N_{j,3}(t)\,Q_j,\quad t\in [\,t_0,\,t_M\,].
  $$
* 离散化输出序列：</p>
<p>$$
  {\,S_k}_{k=0}^K,\quad
  t_k = t_0 + k\,\Delta t,\;K = \lfloor (t_M - t_0)/\Delta t\rfloor,
  $$</p>
<p>$$
  S_k = \bigl(x(t_k),\,y(t_k),\,v_x(t_k),\,v_y(t_k),\,a_x(t_k),\,a_y(t_k)\bigr).
  $$</p>
<hr />
<h2 id="_2">二、算法步骤<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="1_1">1. 计算原始离散路径每段到障碍的最小距离与最大允许间距<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>遍历原始路径每段 <span class="arithmatex">\((P_i,P_{i+1})\)</span></strong></p>
</li>
<li>
<p>计算欧氏距离：</p>
<p>$$
 \ell_i \;=\; |P_{i+1} - P_i|, 
 \quad i = 0,\dots,N-1.
 $$
   * 查询距离场：</p>
<ul>
<li>取近似值</li>
</ul>
<p>$$
   d_c^{(i)} = \min\bigl{\mathrm{DF}(\lfloor P_i\rfloor),\;\mathrm{DF}(\lfloor P_{i+1}\rfloor)\bigr},
   $$</p>
<p>如果需要更精确可选取该线段上若干插值点再查询并取最小值。
 * 要求 <span class="arithmatex">\(d_c^{(i)} &gt; 0\)</span>，否则原始路径点就在障碍内部，需回退到路径搜索阶段重新规划。</p>
</li>
<li>
<p><strong>计算该段允许的最大间距</strong></p>
</li>
</ol>
<p>$$
   r_{\max}^{(i)} = \min\Bigl{\tfrac{d_c^{(i)}}{3},\;\bar v_{\max}\,\Delta t\Bigr}.<br />
   $$</p>
<ul>
<li>
<p>需要同时满足：</p>
<ol>
<li>“凸包安全”要 <span class="arithmatex">\(r_{j,j+1} &lt; d_c^{(i)}/3\)</span>；</li>
<li>“速度上限”要 <span class="arithmatex">\(\ell \le \bar v_{\max}\,\Delta t\)</span>。</li>
</ol>
</li>
</ul>
<h3 id="2_1">2. 等距插值生成初始控制点<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>对每段 <span class="arithmatex">\((P_i,\,P_{i+1})\)</span> 判断是否插值</strong></p>
</li>
<li>
<p>若 <span class="arithmatex">\(\ell_i \le r_{\max}^{(i)}\)</span>，则不插值，仅保留两端点作为控制点；</p>
</li>
<li>
<p>否则，需要插值：</p>
<ol>
<li>
<p>计算所需插值数量：</p>
<p>$$
N_{\text{ins},i} \;=\; \Bigl\lceil \tfrac{\ell_i}{\,r_{\max}^{(i)}}\Bigr\rceil \;-\;1.
$$
     2. 在 <span class="arithmatex">\(\overline{P_iP_{i+1}}\)</span> 上等距插入这 <span class="arithmatex">\(N_{\text{ins},i}\)</span> 个新点：</p>
<div class="arithmatex">\[
P_i^{(k)} \;=\; P_i \;+\; \frac{k}{\,N_{\text{ins},i}+1\,}\,\bigl(P_{i+1} - P_i\bigr), 
\quad k = 1,2,\dots,N_{\text{ins},i}.
\]</div>
<p>每个新插值点的位置只包含 <span class="arithmatex">\((x,y)\)</span>，速度与加速度可用线性插值或初步赋值（将由后端优化整合）。</p>
</li>
</ol>
</li>
<li>
<p><strong>构造新的控制点序列 <span class="arithmatex">\(\{Q_j\}\)</span></strong></p>
</li>
<li>
<p>初始化空序列 <span class="arithmatex">\(\mathcal{Q}=\emptyset\)</span>。</p>
</li>
<li>
<p>依次遍历 <span class="arithmatex">\(i=0\dots N-1\)</span>：</p>
<ol>
<li>将 <span class="arithmatex">\(P_i\)</span>（若 <span class="arithmatex">\(i=0\)</span> 或上一段未添加，否则已添加）加入 <span class="arithmatex">\(\mathcal{Q}\)</span>。</li>
<li>若 <span class="arithmatex">\(N_{\text{ins},i} &gt; 0\)</span>，按顺序将 <span class="arithmatex">\(\{\,P_i^{(1)},\,\dots,\,P_i^{(N_{\text{ins},i})}\}\)</span> 依次加入 <span class="arithmatex">\(\mathcal{Q}\)</span>。</li>
<li>将 <span class="arithmatex">\(P_{i+1}\)</span> 暂不加入（下一轮中作为“上一段末尾”再加入），以免重复。</li>
<li>遍历结束后，将最后一个原始点 <span class="arithmatex">\(P_N\)</span> 加入 <span class="arithmatex">\(\mathcal{Q}\)</span>。</li>
<li>记 <span class="arithmatex">\(\mathcal{Q} = \{\,Q_0,\,Q_1,\,\dots,\,Q_M\}\)</span>，其中</li>
</ol>
<p>$$
 M = N + \sum_{i=0}^{N-1} N_{\text{ins},\,i}.
 $$</p>
</li>
<li>
<p><strong>检查插值后相邻段长</strong></p>
</li>
<li>
<p>对 <span class="arithmatex">\(\{Q_0,\dots,Q_M\}\)</span> 序列再次检查：</p>
<p>$$
 r_j = |\,Q_{j+1} - Q_j|,\quad j=0,\dots,M-1.
 $$</p>
<p>确保对所有 <span class="arithmatex">\(j\)</span> 有</p>
<p>$$
 \bar v_{\min}\,\Delta t
 \;\le\; r_j
 \;\le\; \bar v_{\max}\,\Delta t,
 \quad
 r_j &lt; \frac{d_c^{(j)}}{3},
 $$</p>
<p>其中 <span class="arithmatex">\(d_c^{(j)}\)</span> 取该段控制点对应的最小障碍距离（可近似继承插值前的值），必须同时满足“速度下限”、“速度上限”与“凸包安全”要求。
   * 如果出现某段 <span class="arithmatex">\(\|Q_{j+1} - Q_j\| &lt; \bar v_{\min}\,\Delta t\)</span>，可：</p>
<ol>
<li><strong>合并相邻过近的两个点</strong>，减少过小段，或</li>
<li><strong>增大时间间隔 <span class="arithmatex">\(\Delta t\)</span></strong>（如果后端优化允许不同段不同 <span class="arithmatex">\(\Delta t\)</span>，也可局部增加）。</li>
<li>如果出现某段 <span class="arithmatex">\(\|Q_{j+1} - Q_j\| &gt; r_{\max}^{(j)}\)</span>，则需重新在该段插值；循环直到所有相邻段都满足条件为止。</li>
</ol>
</li>
</ol>
<h3 id="3-b">3. 构造三次 B 样条与节点向量<a class="headerlink" href="#3-b" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>打结与节点向量设置</strong></p>
</li>
<li>
<p>对已插值控制点序列 <span class="arithmatex">\(\{Q_0,\dots,Q_M\}\)</span>，构造均匀打结节点向量 <span class="arithmatex">\(\{t_0,\dots,t_{M+p+1}\}\)</span>，其中 <span class="arithmatex">\(p=3\)</span>，令：</p>
<p>$$
 \begin{cases}
   t_0 = t_1 = t_2 = t_3,\
   t_4 = t_0 + \Delta t,\;t_5 = t_0 + 2\Delta t,\;\dots,\;t_{M} = t_0 + (M-3)\,\Delta t,\
   t_{M+1} = t_{M+2} = t_{M+3} = t_{M}.
 \end{cases}
 $$
   * 这样保证了：</p>
<ol>
<li><strong>首尾打结</strong>：<span class="arithmatex">\(Q_0,Q_1,Q_2,Q_3\)</span> 共用同一个起始节点值，<span class="arithmatex">\(Q_{M-3},Q_{M-2},Q_{M-1},Q_M\)</span> 共用同一个终止节点值；</li>
<li><strong>时间均匀</strong>：对中间节点，<span class="arithmatex">\(\Delta t\)</span> 固定不变。</li>
</ol>
</li>
<li>
<p><strong>表示初始 B 样条轨迹</strong></p>
</li>
<li>
<p>定义基函数 <span class="arithmatex">\(N_{j,3}(t)\)</span>（三次均匀 B 样条基函数），则初始轨迹：</p>
<p>$$
 \mathcal{S}<em j="0">0(t) = \sum</em>(t)\,Q_j,
 \quad
 t \in [\,t_0,\,t_{M}\,].
 $$
   * 根据 B 样条性质，该曲线自动位于所有控制点凸包内，但尚未执行优化，可能不满足“最小回转半径”或“全部凸包无碰撞”要求。}^{M} N_{j,3</p>
</li>
</ol>
<h3 id="4">4. 后端优化：凸包避碰、曲率与速度/加速度约束<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>优化变量</strong></p>
</li>
<li>
<p><strong>自由控制点</strong>：<span class="arithmatex">\(\{Q_3,\,Q_4,\dots,\,Q_{M-3}\}\)</span>，即除去首尾各 3 个打结点后的一批内部点。</p>
</li>
<li>
<p><strong>固定控制点</strong>：<span class="arithmatex">\(\{Q_0,Q_1,Q_2\}\)</span> 与 <span class="arithmatex">\(\{Q_{M-2},Q_{M-1},Q_M\}\)</span>，用于保持起点/终点及其一阶速度边界不变。</p>
</li>
<li>
<p><strong>成本函数与约束项</strong>
   令所有被优化的内部点组成向量 <span class="arithmatex">\(\mathbf{q} = [\,Q_3^\top,\;Q_4^\top,\;\dots,\;Q_{M-3}^\top\,]^\top\)</span>。目标是求解最优 <span class="arithmatex">\(\mathbf{q}^*\)</span>，使得以下成本最小且满足所有不等式约束：</p>
</li>
<li>
<p><strong>高阶导数平滑成本 <span class="arithmatex">\(\,f_{\text{smooth}}\)</span></strong></p>
<p>$$
  f_{\text{smooth}} = \sum_{j=0}^{M-3} \int_{t_0}^{t_M} \bigl|\tfrac{d^3}{dt^3}\,\mathcal{S}(t)\bigr|^2\,dt,
  $$</p>
<p>通过对三次 B 样条求三阶导数，转换为对控制点的二次型惩罚。该成本鼓励曲线抖动小、平滑度高。</p>
</li>
<li>
<p><strong>速度上限与下限软约束 <span class="arithmatex">\(\,f_{v}\)</span></strong></p>
<ul>
<li>
<p>对每个时刻 <span class="arithmatex">\(t\)</span>，速度向量为</p>
<p>$$
\dot{\mathcal{S}}(t) = \bigl(\,\dot x(t),\,\dot y(t)\bigr),
\quad v(t) = |\dot{\mathcal{S}}(t)|.
$$
      * 离散化近似：对每个相邻控制点段 <span class="arithmatex">\(\{Q_j,\,Q_{j+1}\}\)</span>，近似速度为</p>
<p>$$
v_{j} \approx \frac{|Q_{j+1} - Q_j|}{\Delta t}.
$$
      * 定义对速度上下限的惩罚：</p>
<div class="arithmatex">\[
f_{v} = \sum_{j=0}^{M-1} \begin{cases}
  \alpha_v\,\bigl(v_j - \bar v_{\max}\bigr)^2, &amp; v_j &gt; \bar v_{\max},\\
  \alpha_v\,\bigl(\bar v_{\min} - v_j\bigr)^2, &amp; v_j &lt; \bar v_{\min},\\
  0, &amp; \bar v_{\min} \le v_j \le \bar v_{\max},
\end{cases}
\]</div>
<p>其中 <span class="arithmatex">\(\alpha_v &gt; 0\)</span> 为权重系数。</p>
</li>
</ul>
</li>
<li>
<p><strong>加速度上限软约束 <span class="arithmatex">\(\,f_{a}\)</span></strong></p>
<ul>
<li>
<p>对每三个连续控制点 <span class="arithmatex">\(\{Q_j,\,Q_{j+1},\,Q_{j+2}\}\)</span>，近似加速度</p>
<p>$$
a_{j} \approx \frac{|\,Q_{j+2} - 2\,Q_{j+1} + Q_j|}{\Delta t^2}.
$$
      * 若 <span class="arithmatex">\(a_j &gt; \bar a\)</span>，则产生惩罚：</p>
<div class="arithmatex">\[
f_{a} = \sum_{j=0}^{M-2} \alpha_a\,\max\bigl(0,\;a_j - \bar a\bigr)^2,
\]</div>
<p>权重系数 <span class="arithmatex">\(\alpha_a &gt; 0\)</span>。</p>
</li>
</ul>
</li>
<li>
<p><strong>曲率上限软约束 <span class="arithmatex">\(\,f_{\kappa}\)</span></strong></p>
<ul>
<li>
<p>对每三个连续控制点 <span class="arithmatex">\(\{Q_j,\,Q_{j+1},\,Q_{j+2}\}\)</span>，可近似计算离散曲率：</p>
<div class="arithmatex">\[
\kappa_{j} \;=\; \frac{2\,\bigl|\det\bigl([\;Q_{j+1}-Q_{j},\,Q_{j+2}-Q_{j+1}\bigr])\bigr|}
{\|Q_{j+1}-Q_{j}\|\;\cdot\;\|Q_{j+2}-Q_{j+1}\|\;\cdot\;\|Q_{j+2}-Q_{j}\|}\,,
\]</div>
<p>或更精确地在 B 样条连续曲线上采样并计算
<span class="arithmatex">\(\kappa(t) = \frac{|\dot x\,\ddot y - \ddot x\,\dot y|}{(\dot x^2 + \dot y^2)^{3/2}}\)</span>。
      * 定义惩罚：</p>
<div class="arithmatex">\[
f_{\kappa} = \sum_{j=0}^{M-2} \alpha_\kappa\,\max\bigl(0,\,\kappa_{j} - \kappa_{\max}\bigr)^2,
\]</div>
<p>权重系数 <span class="arithmatex">\(\alpha_\kappa &gt; 0\)</span>。</p>
</li>
</ul>
</li>
<li>
<p><strong>凸包无碰撞软约束 <span class="arithmatex">\(\,f_{\text{col}}\)</span></strong></p>
<ul>
<li>对每四个连续控制点 <span class="arithmatex">\(\{Q_j,Q_{j+1},Q_{j+2},Q_{j+3}\}\)</span>，构造其凸包，并保证任意凸包内点与障碍物距离 <span class="arithmatex">\(&gt; 0\)</span>。</li>
<li>
<p>可采取“采样+距离场查询”或“间距阈值近似”。近似方式：</p>
<ol>
<li>对这四个点分别查询其离障距离：</li>
</ol>
<p>$$
   d_{j}^\ell = \mathrm{距离场}(Q_{j+\ell}),\quad \ell=0,1,2,3.
   $$
2. 近似认为该凸包内任意点到障碍距离有下界</p>
<p>$$
   d_h \;&gt;\; \min_{\ell=0..3} \bigl{d_{j}^\ell\bigr} \;-\; (r_{j,j+1} + r_{j+1,j+2} + r_{j+2,j+3}),
   $$</p>
<p>其中 <span class="arithmatex">\(r_{a,b} = \|Q_a - Q_b\|\)</span>。
3. 若上式右侧 <span class="arithmatex">\(\le 0\)</span>，说明可能碰撞，此时定义惩罚：</p>
<p>$$
   f_{\text{col}} 
   = \sum_{j=0}^{M-3} \alpha_c \,\max\Bigl(0,\; (r_{j,j+1} + r_{j+1,j+2} + r_{j+2,j+3}) - \min_{\ell} d_j^\ell \Bigr)^2,
   $$</p>
<p>权重系数 <span class="arithmatex">\(\alpha_c &gt; 0\)</span>。
      * 若需更精确可在每个四点凸包内随机采样若干点，再做距离场查询并累加惩罚。</p>
</li>
</ul>
</li>
<li>
<p><strong>总成本函数</strong></p>
</li>
</ol>
<p>$$
   J(\mathbf{q}) \;=\; \lambda_{\text{smooth}}\,f_{\text{smooth}}
   \;+\;\lambda_v\,f_{v}
   \;+\;\lambda_a\,f_{a}
   \;+\;\lambda_\kappa\,f_{\kappa}
   \;+\;\lambda_c\,f_{\text{col}},
   $$</p>
<p>其中 <span class="arithmatex">\(\{\lambda_{\text{smooth}},\lambda_v,\lambda_a,\lambda_\kappa,\lambda_c\}\)</span> 为各项权重，根据任务需求手动调参。</p>
<ol>
<li>
<p><strong>约束条件（硬性约束）</strong></p>
</li>
<li>
<p>对所有时刻或离散段强制满足：</p>
<ol>
<li>“最低速度” <span class="arithmatex">\(\tilde v_j = \tfrac{\|Q_{j+1}-Q_j\|}{\Delta t} \ge \bar v_{\min}\)</span>。</li>
<li>“最大速度” <span class="arithmatex">\(\tilde v_j \le \bar v_{\max}\)</span>。</li>
<li>“最大加速度” <span class="arithmatex">\(\tilde a_j = \tfrac{\|Q_{j+2} - 2Q_{j+1} + Q_j\|}{\Delta t^2} \le \bar a\)</span>。</li>
<li>“最大曲率” <span class="arithmatex">\(\tilde \kappa_j \le \kappa_{\max}\)</span>。</li>
<li>“凸包无碰撞距离” <span class="arithmatex">\(\min_{\ell} d_j^\ell - (r_{j,j+1} + r_{j+1,j+2} + r_{j+2,j+3}) &gt; 0\)</span>。</li>
<li>如果要简化，可将其中部分限制改为“惩罚”加入成本函数，但对一些<strong>绝对不能违反</strong>的条件（如最低速度、凸包碰撞）建议作为硬性约束来保证可行性。</li>
</ol>
</li>
<li>
<p><strong>求解方式</strong></p>
</li>
<li>
<p>整个优化问题可视作带不等式约束的非线性最小二乘 / 二次规划。常见解决方案：</p>
<ol>
<li><strong>梯度下降或拟牛顿法</strong>：使用数值微分估算梯度，对自由控制点向量 <span class="arithmatex">\(\mathbf{q}\)</span> 迭代更新；</li>
<li><strong>Sequential Quadratic Programming (SQP)</strong>：将约束拆成线性或二次子问题；</li>
<li><strong>交替最小二乘</strong>：先固定速度/加速度项求解平滑，再修正碰撞与曲率；</li>
<li><strong>普通非线性优化库</strong>：如 IPOPT、NLopt 等，设定成本和约束；</li>
<li>每次迭代需实时查询距离场或复用加速数据结构，以快速计算碰撞惩罚或距离约束。</li>
</ol>
</li>
<li>
<p><strong>优化终止条件</strong></p>
</li>
<li>
<p>当最大迭代次数到达、或成本函数增量低于阈值、或所有硬性约束均满足且“惩罚梯度”接近 0 时，停止迭代，得到最优控制点 <span class="arithmatex">\(\{Q_j^*\}\)</span>。</p>
</li>
</ol>
<h3 id="5">5. 离散化输出与轨迹跟随<a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>连续 B 样条轨迹</strong></p>
</li>
<li>
<p>最终得到的 B 样条轨迹：</p>
<p>$$
 \mathcal{S}^<em>(t) = \sum_{j=0}^M N_{j,3}(t)\,Q_j^</em>, 
 \quad t\in [\,t_0,\,t_M\,].
 $$</p>
</li>
<li>
<p><strong>离散化时序状态点</strong></p>
</li>
<li>
<p>令 <span class="arithmatex">\(K = \bigl\lfloor \frac{t_M - t_0}{\Delta t}\bigr\rfloor\)</span>，对每个 <span class="arithmatex">\(k=0,1,\dots,K\)</span> 计算时刻：</p>
<p>$$
 t_k = t_0 + k\,\Delta t.
 $$
   * 计算位置、速度、加速度：</p>
<p>$$
 \bigl(x_k,\,y_k\bigr) = \bigl(x(t_k),\,y(t_k)\bigr),
 \quad
 \bigl(v_{x,k},\,v_{y,k}\bigr) = \bigl(\dot x(t_k),\,\dot y(t_k)\bigr),
 $$</p>
<p>$$
 \bigl(a_{x,k},\,a_{y,k}\bigr) = \bigl(\ddot x(t_k),\,\ddot y(t_k)\bigr).
 $$
   * 整理为状态向量：</p>
<p>$$
 S_k = \bigl(x_k,\,y_k,\,v_{x,k},\,v_{y,k},\,a_{x,k},\,a_{y,k}\bigr).
 $$</p>
</li>
<li>
<p><strong>最终碰撞与动力学检测</strong></p>
</li>
<li>
<p>对每个离散点 <span class="arithmatex">\((x_k,y_k)\)</span> 做栅格查询，确保栅格为“Free”；</p>
</li>
<li>
<p>对每段速度 <span class="arithmatex">\(v_k = \sqrt{v_{x,k}^2 + v_{y,k}^2}\)</span> 与加速度 <span class="arithmatex">\(a_k = \sqrt{a_{x,k}^2 + a_{y,k}^2}\)</span> 做检测：</p>
<p>$$
 \bar v_{\min} \le v_k \le \bar v_{\max}, 
 \quad
 a_k \le \bar a.
 $$
   * 对三点连续段可近似计算离散曲率并检测 <span class="arithmatex">\(\kappa_k \le \kappa_{\max}\)</span>。
   * 若有任一点不满足要求，则需回退到“后端优化”阶段，继续迭代或调整插值密度／<span class="arithmatex">\(\Delta t\)</span>。</p>
</li>
<li>
<p><strong>输出结果</strong></p>
</li>
<li>
<p><strong>最优控制点列表</strong>：<span class="arithmatex">\(\{\,Q_0^*,\,Q_1^*,\dots,\,Q_M^*\}\)</span>。</p>
</li>
<li><strong>节点向量</strong>：<span class="arithmatex">\(\{\,t_0,\dots,t_{M+4}\}\)</span>。</li>
<li><strong>离散时序状态</strong>：<span class="arithmatex">\(\{\,S_0,\dots,S_K\}\)</span>。</li>
<li>将 <span class="arithmatex">\(\{S_k\}\)</span> 传递给固定翼飞控或轨迹跟踪模块，按照时序运动并执行避障。</li>
</ol>
<hr />
<h2 id="_3">三、算法要点与注意事项<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>插值与参数选择</strong></p>
</li>
<li>
<p>插值仅在相邻两控制点段长超过 <span class="arithmatex">\(\min\{d_c/3,\;\bar v_{\max}\,\Delta t\}\)</span> 时进行，以兼顾“凸包安全”与“最高速度”。</p>
</li>
<li>
<p>同时必须确保插值后每段与“最低速度” <span class="arithmatex">\(\bar v_{\min}\)</span> 一致：若 <span class="arithmatex">\(\|Q_{j+1}-Q_j\| &lt; \bar v_{\min}\,\Delta t\)</span>，需要<strong>不要插值过密</strong>或<strong>增大 <span class="arithmatex">\(\Delta t\)</span></strong>。</p>
</li>
<li>
<p><strong>凸包避障近似</strong></p>
</li>
<li>
<p>直接在四点凸包上做网格采样并查距离场，代价昂贵；常用的近似方法是：</p>
<p>$$
 d_h \;&gt;\; \min_{\ell=0..3} {\,\mathrm{DF}(Q_{j+\ell})}\;-\;(r_{j,j+1}+r_{j+1,j+2}+r_{j+2,j+3}).
 $$
   * 若更严格，可每个凸包随机或规则采若干点，再查询距离确保无碰撞。</p>
</li>
<li>
<p><strong>曲率与回转半径</strong></p>
</li>
<li>
<p>固定翼转弯需要空间，若连续点三角区间过陡、过小，也会使曲率超限。</p>
</li>
<li>
<p>在优化中，“软约束 + 硬约束”并用：若曲率轻微超过，用惩罚项拉平；若严重超过，则直接判为不可行。</p>
</li>
<li>
<p><strong>速度下限的处理</strong></p>
</li>
<li>
<p>由于固定翼无法原地悬停，优化时要避免出现“相邻控制点几乎重合”导致速度接近 0 的情况。</p>
</li>
<li>
<p>可以将“速度下限”做为硬性约束 <span class="arithmatex">\(\|Q_{j+1} - Q_j\|/\Delta t \ge \bar v_{\min}\)</span>，或在成本函数中给出足够大的惩罚权重 <span class="arithmatex">\(\lambda_v\)</span>。</p>
</li>
<li>
<p><strong>首尾打结保证边界</strong></p>
</li>
<li>
<p>起点 <span class="arithmatex">\(Q_0,Q_1,Q_2\)</span> 固定：保证位置与速度与原始离散路径搜索结果一致；</p>
</li>
<li>
<p>末点 <span class="arithmatex">\(Q_{M-2},Q_{M-1},Q_M\)</span> 固定：保证到达终点时位置与速度与目标状态一致。</p>
</li>
<li>
<p><strong>优化收敛与实时性</strong></p>
</li>
<li>
<p>为提高在线可用性，可先采用“快速近似 + 少量迭代”获得一个较为靠谱的轨迹，再进行后台逐步精化。</p>
</li>
<li>如果(1) 某段障碍密集且拐弯半径受限，(2) 初始离散路径过于稀疏，导致大量插值与迭代，可能超时；此时需要在“动力学路径搜索”阶段增密采样，或允许奔近实时（如在云端或更强算力设备上优化）。</li>
</ol>
<hr />
<h2 id="_4">四、伪代码示例<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>函数 GenerateFixedWingBsplineTrajectory(
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    原始离散路径 P[0..N], 
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    栅格地图 G, 
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    距离场 DF, 
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    参数 { Δt, ̄v_min, ̄v_max, ̄a, R_min, p=3 }
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>):
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    # 1. 计算每段距离与障碍距离
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    for i in 0..N-1:
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        ℓ_i ← || P[i+1].pos – P[i].pos ||
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        d_c[i] ← min( DF( P[i].pos ), DF( P[i+1].pos ) )
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        if d_c[i] ≤ 0: 
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>            return “路径点与障碍碰撞，需要重新搜索”
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        r_max[i] ← min( d_c[i]/3, ̄v_max * Δt )
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    # 2. 插值生成初始控制点序列 Q
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    Q ← empty list
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    for i in 0..N-1:
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        if i == 0:
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>            append Q.push_back( P[0].pos )
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        ℓ_i ← || P[i+1].pos – P[i].pos ||
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        if ℓ_i ≤ r_max[i]:
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>            # 直接相邻，无插值
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>            append Q.push_back( P[i+1].pos )
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        else:
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>            N_ins ← ceil( ℓ_i / r_max[i] ) – 1
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>            for k in 1..N_ins:
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>                α ← k / (N_ins + 1)
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>                new_pt ← P[i].pos + α*(P[i+1].pos – P[i].pos)
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>                append Q.push_back( new_pt )
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>            append Q.push_back( P[i+1].pos )
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    M ← length(Q) – 1
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>    # 3. 校验相邻段是否满足最低速度下限
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    repeat:
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>        any_adjust ← false
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>        for j in 0..M-1:
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>            r_j ← || Q[j+1] – Q[j] ||
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>            if r_j &lt; ̄v_min * Δt:
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>                # 段太短，不满足速度下限，需要合并或增大 Δt
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>                # 方案 a: 合并 Q[j]与Q[j+1]
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>                merge_index ← j+1
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>                remove Q[merge_index]
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>                M ← M – 1
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>                any_adjust ← true
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>                break
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>                # 方案 b: 增大 Δt 或标记后端调整，视需求而定
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>        if any_adjust == false:
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>            break
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>    # 结束相邻过短段处理
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>    # 4. 构造节点向量 T，打结 p=3
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>    T_length ← M + p + 2  # 总节点数
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>    T[0..T_length-1] ← 0
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>    for k in p+1 .. M:
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>        T[k] ← T[k-1] + Δt
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>    for k in M+1 .. M+p+1:
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>        T[k] ← T[M]
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>    # 5. 后端优化
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>    # 自由变量： Q[3..M-3]，固定 Q[0..2], Q[M-2..M]
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>    初始化优化变量 X ← [ Q[3], Q[4], …, Q[M-3] ]
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>    设置权重 { λ_smooth, λ_v, λ_a, λ_κ, λ_c }
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>    定义成本函数 J(X) 以及硬性约束 C(X)
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>    使用非线性优化器（如 SQP、IPOPT）求解：
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>        minimize J(X)
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>        s.t. C(X) ≤ 0
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>    得到最优 X*，更新对应 Q* 序列
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>    # 6. 生成最终 B 样条与离散跟踪点
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a>    S_output ← empty list
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a>    for k in 0..K where K = floor( (T[M] – T[0]) / Δt ):
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a>        t_k ← T[0] + k * Δt
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a>        (x_k, y_k) ← evaluate_Bspline_position( Q*, T, p, t_k )
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a>        (v_xk, v_yk) ← evaluate_Bspline_velocity( Q*, T, p, t_k )
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a>        (a_xk, a_yk) ← evaluate_Bspline_acceleration( Q*, T, p, t_k )
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a>        append S_output.push_back( (x_k, y_k, v_xk, v_yk, a_xk, a_yk) )
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a>        # 可选：对 (x_k,y_k) 再做一次栅格检查，确保无碰撞
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a>    返回 { Q*, T, S_output }
</code></pre></div>
<hr />
<h2 id="_5">五、算法总结与特点<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>兼顾安全与动力学</strong></p>
</li>
<li>
<p><strong>凸包避障</strong>：通过对每四点凸包进行距离场估计与三角不等式近似，确保轨迹片段整体远离障碍。</p>
</li>
<li><strong>速度上下限与加速度</strong>：固定翼必须保持“不能低于最小速度”、“不能高于最大速度”和“不能超过最大加速度”，算法在插值与后端优化时同时考虑这几项约束。</li>
<li>
<p><strong>最小回转半径</strong>：通过“曲率上限”约束或惩罚，保证生成的轨迹不会在转弯时超过固定翼物理极限。</p>
</li>
<li>
<p><strong>层次化设计</strong></p>
</li>
<li>
<p><strong>前端插值</strong>：针对原始离散路径进行插值，保证“相邻段长”落在 <span class="arithmatex">\([\bar v_{\min}\Delta t,\;\min(\bar v_{\max}\Delta t,\;d_c/3)]\)</span> 之间，初步满足速度上下限与凸包安全。</p>
</li>
<li><strong>打结与初始 B 样条</strong>：构造三次均匀打结 B 样条，为后端优化提供连续可微的初始轨迹。</li>
<li>
<p><strong>后端优化</strong>：对所有内部控制点进行联合优化，最小化“高阶抖动”、“速度/曲率/碰撞”惩罚，生成最终满足所有约束的最优轨迹。</p>
</li>
<li>
<p><strong>适应性与可扩展性</strong></p>
</li>
<li>
<p>若环境障碍动态变化，可在飞行途中重新调用此流程：</p>
<ol>
<li>动力学路径搜索得到新的粗糙离散路径；</li>
<li>重新插值＋优化快速得到新 B 样条；</li>
<li>若规划时间紧张，可只做少量迭代并允许权重动态调整，以保证避障迅速。</li>
<li>若需在三维空间（带高度）规划，可将二维 <span class="arithmatex">\((x,y)\)</span> 扩展到三维 <span class="arithmatex">\((x,y,z)\)</span>，再加高度约束与垂直速度/加速度限制；算法核心不变，仅需多维度距离场与三维曲率控制。</li>
</ol>
</li>
<li>
<p><strong>实时性考虑</strong></p>
</li>
<li>
<p>插值阶段复杂度线性于原始路径点数，多数情况下插值点有限，不会爆炸；</p>
</li>
<li>后端优化为稀疏二次/非线性规划，可利用稀疏矩阵加速，或限定最大迭代次数以保证时限。</li>
<li>若追求更快，可在前端做更密的路径搜索并缩短后端优化范围（只优化局部热点段）。</li>
</ol>
<h2 id="c"><a href="https://github.com/flitai/fixed-wing-bspline-trajectory">C++代码实现</a><a class="headerlink" href="#c" title="Permanent link">&para;</a></h2>
<p>通过上述算法，固定翼无人机可以在二维障碍物栅格地图中，由动力学路径搜索输出的稀疏离散路径点，高效地生成一条既满足“最低飞行速度”、“最大转弯半径”、“凸包无碰撞”又具有“高阶平滑性”的三次 B 样条避障轨迹，并最终离散化为飞行控制器可跟踪的时序状态点序列。</p>
<h2 id="_6">附：带不等式约束非线性优化求解方法对比<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>下面对四种常见的带不等式约束非线性优化求解思路进行对比，并给出在固定翼 B 样条避障场景中常用的推荐：</p>
<hr />
<h3 id="1_2">1. 梯度下降 / 拟牛顿法（基于数值微分估算梯度）<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h3>
<h4 id="_7">实现思路<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<ol>
<li>先把所有自由控制点 <span class="arithmatex">\(\mathbf{q}=[Q_3^\top,\dots,Q_{M-3}^\top]^\top\)</span> 组织为一个向量。</li>
<li>构造总成本函数</li>
</ol>
<p>$$
   J(\mathbf{q}) \;=\; \lambda_{\text{smooth}}\,f_{\text{smooth}}(\mathbf{q})
   \;+\;\lambda_v\,f_{v}(\mathbf{q})
   \;+\;\lambda_a\,f_{a}(\mathbf{q})
   \;+\;\lambda_\kappa\,f_{\kappa}(\mathbf{q})
   \;+\;\lambda_c\,f_{\text{col}}(\mathbf{q}),
   $$</p>
<p>其中每一项可以显式写成关于控制点坐标的二次或高阶函数。
3. 将各个不等式约束（如“速度下限”、“凸包距离”）转化为罚函数或投影（Projection）方式。
4. 在每一步迭代中，用数值微分（或自动微分）计算 <span class="arithmatex">\(\nabla J(\mathbf{q})\)</span>，然后沿负梯度方向更新 <span class="arithmatex">\(\mathbf{q}\)</span>，或用拟牛顿（如L-BFGS）估算 Hessian 近似，再做一轮方向搜索。
5. 迭代直至收敛：当 <span class="arithmatex">\(\|\nabla J\|\)</span> 足够小、或成本下降量低于阈值、且所有软性惩罚趋近于零时停止。</p>
<h4 id="_8">优缺点<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>优点</strong></p>
</li>
<li>
<p><strong>实现门槛低</strong>：只需要能评估目标函数和梯度（数值或自动微分），易于用通用代码手写。</p>
</li>
<li><strong>灵活可控</strong>：可以对每一项惩罚函数权重精细调节，并随时加入新的软约束。</li>
<li>
<p><strong>占用资源少</strong>：相比起一轮完整 SQP，纯梯度下降内存和求解器依赖更少，适合对实时性要求不极高、且问题规模中等的情况。</p>
</li>
<li>
<p><strong>缺点</strong></p>
</li>
<li>
<p><strong>收敛速度慢</strong>：纯梯度下降对条件数敏感，尤其“碰撞惩罚”项在矩阵条件数很差时，容易出现震荡或极其缓慢的收敛。</p>
</li>
<li><strong>不易严格满足强制约束</strong>：如果把“最低速度”与“凸包无碰撞”都做成软惩罚的话，最后只能保证“几乎不违反”，但很难精确地把“速度绝对不能小于 <span class="arithmatex">\(\bar v_{\min}\)</span>”或“凸包距离绝对 &gt; 0”当作硬性约束。</li>
<li><strong>调参烦人</strong>：学习率、惩罚权重、步长策略都要大量试验，才能保证既满足安全约束又快速收敛。</li>
</ul>
<h4 id="_9">适用场景<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<ul>
<li>原始控制点数较少（<span class="arithmatex">\(\mathbf{q}\)</span> 维度几十到几百），对实时性没那么苛刻（能容忍几十到几百次迭代）。</li>
<li>开发初期或研究验证阶段，用于快速原型演示与分析不同惩罚权重的影响。</li>
<li>环境障碍不复杂，冲突很少出现、对“凸包碰撞”要求并不绝对严格，只需要一个“较优、几乎无碰撞”的结果即可。</li>
</ul>
<hr />
<h3 id="2-sequential-quadratic-programming-sqp">2. Sequential Quadratic Programming (SQP)<a class="headerlink" href="#2-sequential-quadratic-programming-sqp" title="Permanent link">&para;</a></h3>
<h4 id="_10">原理与实现流程<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>概念</strong>
   SQP 将原始非线性问题</li>
</ol>
<p>$$
   \min_{\mathbf{q}}\, J(\mathbf{q}), 
   \quad
   \text{s.t.}\quad c_i(\mathbf{q}) \le 0\quad(i=1,\dots,m),
   $$</p>
<p>通过泰勒展开和拉格朗日对偶，把每次迭代都近似为一个二次规划（Quadratic Program, QP）：</p>
<p>$$
   \begin{aligned}
   &amp;\min_{\Delta \mathbf{q}} \;\;\frac12\,\Delta \mathbf{q}^\top\,B\,\Delta \mathbf{q} \;+\;\nabla J(\mathbf{q})^\top\,\Delta \mathbf{q},\
   &amp;\text{s.t.}\quad c_i(\mathbf{q}) + \nabla c_i(\mathbf{q})^\top\,\Delta \mathbf{q} \;\le\; 0,\quad i=1,\dots,m.
   \end{aligned}
   $$</p>
<p>其中 <span class="arithmatex">\(B\)</span> 是某种 Hessian 的近似（例如 BFGS 更新得到的拟牛顿 Hessian），或直接使用目标的精确 Hessian。
2. <strong>迭代流程</strong></p>
<ul>
<li>初始化 <span class="arithmatex">\(\mathbf{q}^{(0)}\)</span>（来自前端插值结果），构建初始约束值 <span class="arithmatex">\(c_i(\mathbf{q}^{(0)})\)</span>。</li>
<li>
<p>在第 <span class="arithmatex">\(k\)</span> 次迭代：</p>
<ol>
<li>用当前 <span class="arithmatex">\(\mathbf{q}^{(k)}\)</span> 计算 <span class="arithmatex">\(\nabla J\)</span> 与 <span class="arithmatex">\(\nabla c_i\)</span>。</li>
<li>构造上述 QP 子问题，求解得到修正步长 <span class="arithmatex">\(\Delta \mathbf{q}^{(k)}\)</span>。</li>
<li>做线性搜索或信赖域更新，得到下一点 <span class="arithmatex">\(\mathbf{q}^{(k+1)} = \mathbf{q}^{(k)} + \alpha\,\Delta \mathbf{q}^{(k)}\)</span>，并更新 Hessian 近似。</li>
<li>判断是否收敛：若 <span class="arithmatex">\(\|\Delta \mathbf{q}^{(k)}\|\)</span> 与 KKT 条件均满足阈值，则停止。</li>
</ol>
</li>
</ul>
<h4 id="_11">优缺点<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>优点</strong></p>
</li>
<li>
<p><strong>收敛速度快</strong>：SQP 本质上在可行域内做二次近似，往往每一步能显著降低目标值，且对带稀疏结构的 Hessian 矩阵有良好收敛性。</p>
</li>
<li><strong>天然处理约束</strong>：所有不等式约束 <span class="arithmatex">\(c_i(\mathbf{q})\le 0\)</span> 都可以当作硬约束直接在线性子问题里处理，最终能保证“凸包碰撞”、“最低/最高速度”、“最大加速度/曲率”之类绝对满足。（只要 QP 子问题可行，整个迭代就始终保持可行。）</li>
<li>
<p><strong>易于扩展新约束</strong>：如果后续想加上“航向角约束”或“高度限制”，只需往 <span class="arithmatex">\(c_i(\mathbf{q})\)</span> 中添加对应表达式即可，无需重写整个框架。</p>
</li>
<li>
<p><strong>缺点</strong></p>
</li>
<li>
<p><strong>实现复杂度较高</strong>：需要构建准确的梯度和 Hessian（或其近似），并调用高效的 QP 求解器。</p>
</li>
<li><strong>对初始点敏感</strong>：若初始 <span class="arithmatex">\(\mathbf{q}^{(0)}\)</span> 距离可行域边界太近（例如某个四点凸包已经碰撞，约束 <span class="arithmatex">\(c_i(\mathbf{q}^{(0)})&gt;0\)</span>），可能导致子问题不可行或难以收敛。</li>
<li><strong>资源占用相对大</strong>：每一步都要求解一个 QP，若控制点维度很大（几百维往上），QP 子问题也会比较大，单次迭代耗时较高。</li>
</ul>
<h4 id="_12">适用场景<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<ul>
<li>真实系统中要求“绝对避障”、曲率、速度严格满足固定翼动力学，不能留有软性惩罚失败的余地。</li>
<li>算力足够，或可利用稀疏 QP 求解器加速（如 OSQP、qpOASES 等），能在十几毫秒到百来毫秒内完成一次 QP 求解。</li>
<li>对轨迹优化结果有较高精度要求，且对实时性有一定容忍度（整个规划连接在一起通常可在几百毫秒到几秒完成）。</li>
</ul>
<hr />
<h3 id="3-alternating-least-squares">3. 交替最小二乘（Alternating Least Squares）<a class="headerlink" href="#3-alternating-least-squares" title="Permanent link">&para;</a></h3>
<h4 id="_13">原理与实现思路<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>分两步迭代</strong>：</p>
</li>
<li>
<p><strong>步骤 A（平滑子问题）</strong>：先固定“碰撞/曲率”软约束，对目标中仅包含 <span class="arithmatex">\(f_{\text{smooth}}\)</span> 与 <span class="arithmatex">\(f_v\)</span>、<span class="arithmatex">\(f_a\)</span>、<span class="arithmatex">\(f_\kappa\)</span> 的项做二次最小二乘（或带二次锥约束）求解；</p>
</li>
<li><strong>步骤 B（碰撞/曲率修正子问题）</strong>：再固定刚刚得到的平滑解，检查凸包碰撞和曲率约束，对那些违反约束的控制点段局部做拉扯/修正。</li>
<li><strong>循环往复</strong>，直到“平滑”和“避障/曲率”两方面都满足，或者收敛到一个兼顾二者的折中解。</li>
</ol>
<h4 id="_14">优缺点<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>优点</strong></p>
</li>
<li>
<p><strong>分段处理各自子目标</strong>：把平滑度与避障约束“解耦”，每一步只需关心成本里的一小部分，编程实现时较为直接。</p>
</li>
<li><strong>可以利用快速的二次最小二乘库</strong>：第一步只要求解带固定权重的二次型优化，多数成熟库（Eigen、Ceres、GTSAM）都能快速完成。</li>
<li>
<p><strong>逐步改进</strong>：当环境障碍不太密集时，往往第一步就能得到一个很平滑的轨迹，再做少量碰撞拉扯，就能满足安全要求。</p>
</li>
<li>
<p><strong>缺点</strong></p>
</li>
<li>
<p><strong>收敛不保证全局最优</strong>：由于“平滑”与“避障”分别分开求解，容易陷入局部折中：在 A 步骤中忽略了碰撞，B 步骤可能需要大幅拉扯，拉扯后平滑又被破坏，需要再回到 A，循环反复且不易收敛。</p>
</li>
<li><strong>对碰撞往往只能做局部修正</strong>：B 步骤只针对违反约束的局部片段做移动，可能引入新的速度/曲率违背，需要多次往返修正。</li>
<li><strong>实现难度适中</strong>：虽说单步子问题简单，但要保证交替多步都收敛，需要较多启发式策略（例如在 B 步骤只允许小幅度拉扯、或在 A 步骤加大对曲率的惩罚），调参较麻烦。</li>
</ul>
<h4 id="_15">适用场景<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<ul>
<li>对实时性要求极高，但对最优性要求不严格的场合。</li>
<li>环境障碍较稀疏、曲率要求中等，可以容忍“平滑—碰撞—平滑”几轮折中后得到一个可行解。</li>
<li>如果只需快速“在线修正”已有轨迹的少量局部违例段，可以把大规模优化拆成若干小片做交替。</li>
</ul>
<hr />
<h3 id="4-ipoptnloptcasadisnopt">4. 使用成熟的非线性优化库（如 IPOPT、NLopt、CasADi、SNOPT 等）<a class="headerlink" href="#4-ipoptnloptcasadisnopt" title="Permanent link">&para;</a></h3>
<h4 id="_16">原理与实践<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>直接构造完整优化模型</strong></p>
</li>
<li>
<p>将所有自由控制点坐标 <span class="arithmatex">\(\mathbf{q}\)</span> 设为决策变量（变量维度 <span class="arithmatex">\(2\times(\!M-5)\)</span>），</p>
</li>
<li>直接在库里声明成本函数 <span class="arithmatex">\(J(\mathbf{q})\)</span>（可用自动微分或手动推导 Hessian/Jacobian），</li>
<li>直接声明不等式约束 <span class="arithmatex">\(c_i(\mathbf{q}) \le 0\)</span>（包括“<span class="arithmatex">\(\|Q_{j+1}-Q_j\|/\Delta t \ge \bar v_{\min}\)</span>”、“凸包距离 <span class="arithmatex">\(\min d_j^\ell - (r_{j,j+1} + r_{j+1,j+2} + r_{j+2,j+3}) &gt; 0\)</span>” 等），以及任何其他曲率与加速度限制。</li>
<li>
<p><strong>调用黑箱求解器</strong></p>
</li>
<li>
<p>类似于调用 IPOPT：</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">ipopt</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 自由变量维度</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">obj</span><span class="p">(</span><span class="n">q</span><span class="p">):</span> <span class="k">return</span> <span class="n">J</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>            <span class="c1"># 返回标量</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">grad</span><span class="p">(</span><span class="n">q</span><span class="p">):</span> <span class="k">return</span> <span class="err">∇</span><span class="n">J</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>           <span class="c1"># 返回梯度向量</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">cons</span><span class="p">(</span><span class="n">q</span><span class="p">):</span> <span class="k">return</span> <span class="p">[</span><span class="n">c_1</span><span class="p">(</span><span class="n">q</span><span class="p">),</span><span class="err">…</span><span class="p">,</span> <span class="n">c_m</span><span class="p">(</span><span class="n">q</span><span class="p">)]</span>  <span class="c1"># 返回长度 m 的约束向量</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">jac</span><span class="p">(</span><span class="n">q</span><span class="p">):</span> <span class="k">return</span> <span class="n">JacobianMatrix</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>   <span class="c1"># 返回 m×n 稀疏矩阵</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="n">solver</span> <span class="o">=</span> <span class="n">ipopt</span><span class="o">.</span><span class="n">problem</span><span class="p">(</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="n">problem_obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">problem_grad</span><span class="o">=</span><span class="n">grad</span><span class="p">,</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="n">problem_cons</span><span class="o">=</span><span class="n">cons</span><span class="p">,</span> <span class="n">problem_jac</span><span class="o">=</span><span class="n">jac</span><span class="p">,</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    <span class="n">lb</span><span class="o">=</span><span class="p">[</span><span class="err">…</span><span class="p">],</span> <span class="n">ub</span><span class="o">=</span><span class="p">[</span><span class="err">…</span><span class="p">],</span>   <span class="c1"># 变量界限</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="n">cl</span><span class="o">=</span><span class="p">[</span><span class="err">…</span><span class="p">,</span> <span class="err">…</span><span class="p">],</span> <span class="n">cu</span><span class="o">=</span><span class="p">[</span><span class="err">…</span><span class="p">,</span> <span class="err">…</span><span class="p">]</span>  <span class="c1"># 约束范围</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="p">)</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="n">q_opt</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">q_init</span><span class="p">)</span>
</code></pre></div>
   * 求解器自动处理 KKT 条件、线性化子问题、Hessian 更新与线性子问题求解，最后输出可行的 <span class="arithmatex">\(\mathbf{q}^*\)</span> 与拉格朗日乘子信息。</p>
</li>
</ol>
<h4 id="_17">优缺点<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>优点</strong></p>
</li>
<li>
<p><strong>成熟稳定、参数少</strong>：只需编写一次目标与约束表达式，求解器自动做可行域维护、自动微分、稀疏矩阵处理等，开发工作量大大降低。</p>
</li>
<li><strong>支持稀疏结构</strong>：大多数库都能自动识别并利用 Hessian/Jacobian 的稀疏性，适合数百到上千维的控制点优化。</li>
<li><strong>硬约束保证</strong>：只要给出精确的约束表达式，求解器会严格在可行域内搜索，最后输出的轨迹必然满足“凸包无碰撞”、“速度/加速度/曲率硬性上限”这一类不可妥协的条件。</li>
<li>
<p><strong>容易集成与切换</strong>：若后续需要改用 SNOPT、KNITRO 等商用解算器，只需改建 solver 接口，多数代码无需改动。</p>
</li>
<li>
<p><strong>缺点</strong></p>
</li>
<li>
<p><strong>对分辨率敏感</strong>：当插值后控制点数量 <span class="arithmatex">\(M\)</span> 很大（几百或上千），每一步迭代都要处理大小为 <span class="arithmatex">\(n\times n\)</span> 的 Hessian 近似或 <span class="arithmatex">\(m\times n\)</span> 的雅可比矩阵，内存与计算开销显著上升。</p>
</li>
<li><strong>求解时间不可控</strong>：虽然收敛性好，但若初始点处于边界很近的位置，或者障碍物约束非常紧，解算器可能需要多轮线性化与回溯搜索，单次优化可能花费数百毫秒到几秒。对极限实时规划场景可能不够快。</li>
<li><strong>黑盒调试难</strong>：当优化失败或收敛到不合理解时，排查“到底是哪条约束搞死了”、“哪个 Hessian 条件数太差”比较困难，需要深入 Solver 日志甚至源码。</li>
</ul>
<hr />
<h3 id="5_1">5. 综合对比与推荐<a class="headerlink" href="#5_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>优势</th>
<th>劣势</th>
<th>推荐场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>梯度下降 / 拟牛顿</td>
<td>实现门槛低、易修改惩罚、开发快；资源占用少</td>
<td>收敛慢、难保证硬约束、惩罚参数调试繁琐</td>
<td>研究原型阶段、小规模控制点、中等实时性要求</td>
</tr>
<tr>
<td>SQP</td>
<td>收敛速度快、严格满足硬约束、可扩展新约束</td>
<td>实现复杂、对初始点敏感、单次迭代开销大</td>
<td>需要“绝对避障”“严格曲率/速度上下限”且维度中等（几十到几百）</td>
</tr>
<tr>
<td>交替最小二乘</td>
<td>将平滑与避障分开求解，子问题各自简单；可快速得到初步可行解</td>
<td>往返收敛不稳定、易陷局部、对调参依赖高</td>
<td>对最优不严格但需快速在线修正的场景，或避障场景较稀疏</td>
</tr>
<tr>
<td>成熟非线性优化库（IPOPT等）</td>
<td>代码少、自动稀疏、严格可行、扩展性好</td>
<td>较大维度时内存/时间开销显著；相对难调debug</td>
<td>大规模控制点（上百维以上）、对可行性与最优性要求高的工程化场景</td>
</tr>
</tbody>
</table>
<h4 id="_18">推荐策略<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>若需要在工程系统里部署、对“绝对避障”和“固定翼最小回转半径”要求严格</strong>，<strong>强烈推荐使用成熟的非线性优化库（如 IPOPT、SNOPT、KNITRO）</strong>：</p>
</li>
<li>
<p><strong>理由</strong>：它们能自动维护 KKT 可行性，保证最终解满足所有硬性约束（最低速度、最大速度、最大加速度、最大曲率、凸包碰撞等）；同时对稀疏 Hessian/Jacobian 求解有良好优化，即使控制点多，也能在合理时间内收敛。</p>
</li>
<li>
<p><strong>实现建议</strong>：</p>
<ol>
<li>手动推导并实现代价函数和各不等式约束的雅可比（Jacobian）与 Hessian。</li>
<li>充分利用自动微分库（如 CasADi）来生成符号梯度和 Hessian，使代码更简洁。</li>
<li>调整容忍度（Tolerance）和迭代次数上限，保证在线性化与罚函数切换时稳健。</li>
</ol>
</li>
<li>
<p><strong>若对实时性要求非常高、障碍稀疏，且能接受“近似无碰撞”方案</strong>，可选<strong>SQP</strong>或<strong>交替最小二乘</strong>：</p>
</li>
<li>
<p><strong>SQP</strong>：适合中等规模（数十到一两百维控制点）场景。每次迭代需解一个 QP，若使用高效稀疏 QP 解算器（OSQP、qpOASES），并把不等式约束中“碰撞”与“曲率”只保留最关键片段，就能在十几毫秒至几十毫秒内完成一次迭代。对在线二次优化并逐步精化很有效。</p>
</li>
<li>
<p><strong>交替最小二乘</strong>：当“避障碰撞”在整体轨迹里只占极小一部分时，可先经过一次全局平滑（只关注平滑+动力学惩罚），再对碰撞片段做局部插值与拉扯。如果大部分轨迹区域障碍稀疏且环境宽敞，就能在非常短时间内得到基本可行的轨迹。</p>
</li>
<li>
<p><strong>纯梯度下降 / 拟牛顿</strong></p>
</li>
<li>
<p>较少用于严格工程化场景，可作为<strong>研究验证</strong>或<strong>快速原型</strong>。若将所有硬性约束都做成高权重的软性惩罚，一旦初始解与可行域边界尚有足够余量，常规 L-BFGS 或 Adam 优化也能快速收敛到一个“足够安全”的解。</p>
</li>
<li>但若初始插值后“有段凸包已经碰撞”，你必须在每次迭代时动态检测并“手动 projecting”（将控制点移动到可行域内），或不断以“小步长”优化，这会拖慢收敛速度。</li>
</ol>
<hr />
<h3 id="6">6. 最终建议<a class="headerlink" href="#6" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>若项目对“绝无碰撞、严格满足固定翼机动学极限”有硬性要求</strong>，<strong>使用成熟的非线性优化库（IPOPT、SNOPT、KNITRO 等）配合自动微分</strong>，让求解器直接处理所有硬性约束。只需：</p>
</li>
<li>
<p>定义好“目标函数 <span class="arithmatex">\(J(\mathbf{q})\)</span>”与每个非线性约束 <span class="arithmatex">\(c_i(\mathbf{q}) \le 0\)</span>。</p>
</li>
<li>将问题输入 IPOPT，设置合适的 Lagrange 容忍度、最大迭代次数、初始步长等；</li>
<li>等待迭代输出最终 <span class="arithmatex">\(\mathbf{q}^*\)</span>。</li>
</ul>
<p>这样能保证——只要给出一个 <strong>初始可行解</strong>（前端插值阶段尽量让 <span class="arithmatex">\(\{Q_j\}\)</span> 满足最小速度和凸包安全），IPOPT 就能在严格可行域内收敛到一个高质量解。</p>
<ul>
<li>
<p><strong>若对实时性要求极端苛刻，但环境相对简单，允许一定近似</strong>，可以选 <strong>SQP + 稀疏 QP 解算器</strong>：</p>
</li>
<li>
<p>构造一个“速度+加速度+曲率+碰撞”约束的“线性化 QP”。</p>
</li>
<li>每次迭代用 OSQP/qpOASES 解 QP，更新控制点。</li>
<li>
<p>只做很少次迭代，甚至每隔若干帧才做一次完整优化，其余时刻使用上一帧轨迹插值执行。</p>
</li>
<li>
<p><strong>若目前仅需“验证思路”或“跑一下样例”，可以先用 L-BFGS 类型的梯度下降</strong>：</p>
</li>
<li>
<p>将所有约束做成“高权重罚项”，手动实现或用 PyTorch/Ceres 一类库做自动微分；</p>
</li>
<li>先取得一个大致平滑可行的轨迹，再针对最严重的几处违反进行局部精修。</li>
</ul>
<hr />
<p><strong>综合结论</strong>：</p>
<blockquote>
<p>对于固定翼 B 样条避障，<strong>最推荐的方案</strong>是基于 <strong>成熟非线性优化库（IPOPT、SNOPT、KNITRO 等）</strong>，因为它能自动处理所有约束（硬约束与软惩罚并存），具有较好收敛性与工程可靠性。若项目对实时性要求更高，可在此基础上引入稀疏 SQP 或分段交替最小二乘等策略，将“全局严格优化”与“在线快速修正”相结合。</p>
</blockquote>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.path", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy", "content.action.view", "navigation.indexes"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>